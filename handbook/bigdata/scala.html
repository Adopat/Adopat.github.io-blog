<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第八章 Scala | Adopat的博客</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/blog/logo.jpeg">
    <link rel="manifest" href="/blog/logo.jpeg">
    <link rel="apple-touch-icon" href="/blog/logo.jpeg">
    <link rel="mask-icon" href="/blog/logo.jpeg" color="#3eaf7c">
    <meta name="description" content="长路漫漫，唯键作伴">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="expires" cotent="0">
    <meta http-quiv="pragma" cotent="no-cache, must-revalidate">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta charset="utf-8">
    
    <link rel="preload" href="/blog/assets/css/0.styles.c74f429a.css" as="style"><link rel="preload" href="/blog/assets/js/app.f600c34c.js" as="script"><link rel="preload" href="/blog/assets/js/3.1aae9359.js" as="script"><link rel="preload" href="/blog/assets/js/1.ae8a88ec.js" as="script"><link rel="preload" href="/blog/assets/js/48.95e08a63.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.d3b9c11d.js"><link rel="prefetch" href="/blog/assets/js/11.acb152df.js"><link rel="prefetch" href="/blog/assets/js/12.c8509742.js"><link rel="prefetch" href="/blog/assets/js/13.811061e2.js"><link rel="prefetch" href="/blog/assets/js/14.db6b0e70.js"><link rel="prefetch" href="/blog/assets/js/15.2ce37a4a.js"><link rel="prefetch" href="/blog/assets/js/16.b3452aec.js"><link rel="prefetch" href="/blog/assets/js/17.dc1a8405.js"><link rel="prefetch" href="/blog/assets/js/18.f03199ab.js"><link rel="prefetch" href="/blog/assets/js/19.bb1e396b.js"><link rel="prefetch" href="/blog/assets/js/20.4e2d0adb.js"><link rel="prefetch" href="/blog/assets/js/21.b67291e2.js"><link rel="prefetch" href="/blog/assets/js/22.057ea7c4.js"><link rel="prefetch" href="/blog/assets/js/23.70da62c2.js"><link rel="prefetch" href="/blog/assets/js/24.8cd404c5.js"><link rel="prefetch" href="/blog/assets/js/25.e637bb66.js"><link rel="prefetch" href="/blog/assets/js/26.bb3896ad.js"><link rel="prefetch" href="/blog/assets/js/27.021e6dc3.js"><link rel="prefetch" href="/blog/assets/js/28.6949fbc1.js"><link rel="prefetch" href="/blog/assets/js/29.6c652456.js"><link rel="prefetch" href="/blog/assets/js/30.f23dfdea.js"><link rel="prefetch" href="/blog/assets/js/31.3dcf5164.js"><link rel="prefetch" href="/blog/assets/js/32.b554bb64.js"><link rel="prefetch" href="/blog/assets/js/33.6ba9e186.js"><link rel="prefetch" href="/blog/assets/js/34.2ae1eb6a.js"><link rel="prefetch" href="/blog/assets/js/35.1fe5b5a2.js"><link rel="prefetch" href="/blog/assets/js/36.614599d6.js"><link rel="prefetch" href="/blog/assets/js/37.311ebd2c.js"><link rel="prefetch" href="/blog/assets/js/38.50bccc51.js"><link rel="prefetch" href="/blog/assets/js/39.fc5b9233.js"><link rel="prefetch" href="/blog/assets/js/4.1dd123be.js"><link rel="prefetch" href="/blog/assets/js/40.f5520796.js"><link rel="prefetch" href="/blog/assets/js/41.a23e6477.js"><link rel="prefetch" href="/blog/assets/js/42.1ad13e0e.js"><link rel="prefetch" href="/blog/assets/js/43.1235eb55.js"><link rel="prefetch" href="/blog/assets/js/44.e50bce95.js"><link rel="prefetch" href="/blog/assets/js/45.96aaada5.js"><link rel="prefetch" href="/blog/assets/js/46.f656cba5.js"><link rel="prefetch" href="/blog/assets/js/47.e170369f.js"><link rel="prefetch" href="/blog/assets/js/49.eaea0707.js"><link rel="prefetch" href="/blog/assets/js/5.4cb445b4.js"><link rel="prefetch" href="/blog/assets/js/50.b1126e4d.js"><link rel="prefetch" href="/blog/assets/js/51.c28c85ff.js"><link rel="prefetch" href="/blog/assets/js/52.431357ea.js"><link rel="prefetch" href="/blog/assets/js/53.be380102.js"><link rel="prefetch" href="/blog/assets/js/54.5877a497.js"><link rel="prefetch" href="/blog/assets/js/55.e1d5dddb.js"><link rel="prefetch" href="/blog/assets/js/56.1962bc1e.js"><link rel="prefetch" href="/blog/assets/js/57.b7d9dbdd.js"><link rel="prefetch" href="/blog/assets/js/58.b5d9b427.js"><link rel="prefetch" href="/blog/assets/js/59.e07757a4.js"><link rel="prefetch" href="/blog/assets/js/6.e02ce0fc.js"><link rel="prefetch" href="/blog/assets/js/60.50d5d207.js"><link rel="prefetch" href="/blog/assets/js/61.2bdc68d5.js"><link rel="prefetch" href="/blog/assets/js/62.6f6c77db.js"><link rel="prefetch" href="/blog/assets/js/63.fd62d822.js"><link rel="prefetch" href="/blog/assets/js/64.d83a9500.js"><link rel="prefetch" href="/blog/assets/js/65.e76b3053.js"><link rel="prefetch" href="/blog/assets/js/66.de39f9b4.js"><link rel="prefetch" href="/blog/assets/js/67.44ce2347.js"><link rel="prefetch" href="/blog/assets/js/68.9efe46cd.js"><link rel="prefetch" href="/blog/assets/js/69.a06475fc.js"><link rel="prefetch" href="/blog/assets/js/7.3df43e48.js"><link rel="prefetch" href="/blog/assets/js/70.d38d05d7.js"><link rel="prefetch" href="/blog/assets/js/71.563b0c4a.js"><link rel="prefetch" href="/blog/assets/js/72.14bc1390.js"><link rel="prefetch" href="/blog/assets/js/73.9d176c78.js"><link rel="prefetch" href="/blog/assets/js/74.3a37688f.js"><link rel="prefetch" href="/blog/assets/js/75.7c4802f6.js"><link rel="prefetch" href="/blog/assets/js/76.7309aafa.js"><link rel="prefetch" href="/blog/assets/js/77.418b1686.js"><link rel="prefetch" href="/blog/assets/js/78.8b748ecf.js"><link rel="prefetch" href="/blog/assets/js/8.417a4fef.js"><link rel="prefetch" href="/blog/assets/js/9.28024d7d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.c74f429a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1c636796><div data-v-1c636796><div class="password-shadow password-wrapper-out" style="display:none;" data-v-2c3e9f55 data-v-1c636796 data-v-1c636796><h3 class="title" data-v-2c3e9f55>Adopat的博客</h3> <p class="description" data-v-2c3e9f55>长路漫漫，唯键作伴</p> <label id="box" class="inputBox" data-v-2c3e9f55><input type="password" value="" data-v-2c3e9f55> <span data-v-2c3e9f55>Konck! Knock!</span> <button data-v-2c3e9f55>OK</button></label> <div class="footer" data-v-2c3e9f55><span data-v-2c3e9f55><i class="iconfont reco-theme" data-v-2c3e9f55></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2c3e9f55>vuePress-theme-reco</a></span> <span data-v-2c3e9f55><i class="iconfont reco-copyright" data-v-2c3e9f55></i> <a data-v-2c3e9f55><span data-v-2c3e9f55>Adopat</span>
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-1c636796><header class="navbar" data-v-1c636796><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.jpeg" alt="Adopat的博客" class="logo"> <span class="site-name">Adopat的博客</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  HOME
</a></div><div class="nav-item"><a href="/blog/handbook/about/" class="nav-link"><i class="iconfont reco-document"></i>
  导读
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/handbook/basic/composition-principle.html" class="nav-link"><i class="fa fa-solid fa-computer"></i>
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/frontend/basic.html" class="nav-link"><i class="fa fa-brands fa-js"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/backend/java-core-basic.html" class="nav-link"><i class="fa fa-brands fa-java"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/database/" class="nav-link"><i class="fa fa-solid fa-database"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/bigdata/hadoop.html" class="nav-link"><i class="fa fa-brands fa-hive"></i>
  大数据
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/ml/python-core.html" class="nav-link"><i class="fa fa-brands fa-python"></i>
  人工智能
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/devops/docker.html" class="nav-link"><i class="fa fa-brands fa-docker"></i>
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/tools/Git.html" class="nav-link"><i class="fa fa-solid fa-toolbox"></i>
  常用开发工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      友情链接
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44446122?type=blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Adopat" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1c636796></div> <aside class="sidebar" data-v-1c636796><div class="personal-info-wrapper" data-v-6f92ba70 data-v-1c636796><!----> <h3 class="name" data-v-6f92ba70>
    Adopat
  </h3> <div class="num" data-v-6f92ba70><div data-v-6f92ba70><h3 data-v-6f92ba70>67</h3> <h6 data-v-6f92ba70>文章</h6></div> <div data-v-6f92ba70><h3 data-v-6f92ba70>0</h3> <h6 data-v-6f92ba70>标签</h6></div></div> <ul class="social-links" data-v-6f92ba70></ul> <hr data-v-6f92ba70></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  HOME
</a></div><div class="nav-item"><a href="/blog/handbook/about/" class="nav-link"><i class="iconfont reco-document"></i>
  导读
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/handbook/basic/composition-principle.html" class="nav-link"><i class="fa fa-solid fa-computer"></i>
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/frontend/basic.html" class="nav-link"><i class="fa fa-brands fa-js"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/backend/java-core-basic.html" class="nav-link"><i class="fa fa-brands fa-java"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/database/" class="nav-link"><i class="fa fa-solid fa-database"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/bigdata/hadoop.html" class="nav-link"><i class="fa fa-brands fa-hive"></i>
  大数据
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/ml/python-core.html" class="nav-link"><i class="fa fa-brands fa-python"></i>
  人工智能
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/devops/docker.html" class="nav-link"><i class="fa fa-brands fa-docker"></i>
  运维
</a></li><li class="dropdown-item"><!----> <a href="/blog/handbook/tools/Git.html" class="nav-link"><i class="fa fa-solid fa-toolbox"></i>
  常用开发工具
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      友情链接
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/weixin_44446122?type=blog" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Adopat" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>大数据基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/handbook/bigdata/hadoop.html" class="sidebar-link">第一章 Hadoop</a></li><li><a href="/blog/handbook/bigdata/hdfs.html" class="sidebar-link">第二章 HDFS</a></li><li><a href="/blog/handbook/bigdata/mapreduce.html" class="sidebar-link">第三章 MapReduce</a></li><li><a href="/blog/handbook/bigdata/mapreduce1.html" class="sidebar-link">第四章 MapReduce性能优化</a></li><li><a href="/blog/handbook/bigdata/yarn.html" class="sidebar-link">第五章 YARN</a></li><li><a href="/blog/handbook/bigdata/flume.html" class="sidebar-link">第六章 Flume</a></li><li><a href="/blog/handbook/bigdata/hive.html" class="sidebar-link">第七章 HIVE</a></li><li><a href="/blog/handbook/bigdata/scala.html" aria-current="page" class="active sidebar-link">第八章 Scala</a></li><li><a href="/blog/handbook/bigdata/spark.html" class="sidebar-link">第九章 Spark</a></li><li><a href="/blog/handbook/bigdata/flink.html" class="sidebar-link">第十章 Flink</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>大数据进阶</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-2c3e9f55 data-v-1c636796><h3 class="title" data-v-2c3e9f55></h3> <!----> <label id="box" class="inputBox" data-v-2c3e9f55><input type="password" value="" data-v-2c3e9f55> <span data-v-2c3e9f55>Konck! Knock!</span> <button data-v-2c3e9f55>OK</button></label> <div class="footer" data-v-2c3e9f55><span data-v-2c3e9f55><i class="iconfont reco-theme" data-v-2c3e9f55></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-2c3e9f55>vuePress-theme-reco</a></span> <span data-v-2c3e9f55><i class="iconfont reco-copyright" data-v-2c3e9f55></i> <a data-v-2c3e9f55><span data-v-2c3e9f55>Adopat</span>
          
        <!---->
        2023
      </a></span></div></div> <div data-v-1c636796><div data-v-1c636796><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">第八章 Scala</h1> <div data-v-6acedb3b><i class="iconfont reco-account" data-v-6acedb3b><span data-v-6acedb3b>Adopat</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="第八章-scala"><a href="#第八章-scala" class="header-anchor">#</a> 第八章 Scala</h1> <h2 id="_8-1-scala基础语法"><a href="#_8-1-scala基础语法" class="header-anchor">#</a> 8.1 Scala基础语法</h2> <h3 id="_8-1-1-变量和数据类型"><a href="#_8-1-1-变量和数据类型" class="header-anchor">#</a> 8.1.1 变量和数据类型</h3> <ul><li><p>变量(var)</p></li> <li><p>常量(val)</p></li> <li><p>Scala中的键盘输入输出</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>StdIn

<span class="token keyword">object</span> TestInput <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// scala 输入输出</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;please input your name&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> name <span class="token operator">=</span> StdIn<span class="token punctuation">.</span>readLine<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;please input your age&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> age <span class="token operator">=</span> StdIn<span class="token punctuation">.</span>readInt<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string"> age is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>字符串的输入输出</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestCharType <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;zhangsan&quot;</span>
    <span class="token keyword">var</span> age<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">22</span>
    <span class="token comment">// 字符串连接</span>
    println<span class="token punctuation">(</span>name <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token operator">+</span>age<span class="token punctuation">)</span> <span class="token comment">// zhangsan 22</span>
    <span class="token comment">// 字符串输出</span>
    printf<span class="token punctuation">(</span><span class="token string">&quot;name=%s age=%d\n&quot;</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token comment">// name=zhangsan age=22</span>
    <span class="token comment">// 插值表达式</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string">,age is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age<span class="token operator">+</span><span class="token number">2</span></span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span> <span class="token comment">// name is zhangsan,age is 24</span>
    <span class="token keyword">val</span> s <span class="token operator">=</span>

      <span class="token triple-quoted-string string">&quot;&quot;&quot;
        |select
        | name
        |,
        |age
        |from user
        |where name = &quot;zhangsan&quot;
&quot;&quot;&quot;</span><span class="token punctuation">.</span>stripMargin
    println<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>stripMargin 使用场景：有时候我们就是确实需要在scala创建多行字符串，但是每一行需要固定对齐。</p></blockquote></li> <li><p>数据类型</p> <p><img src="/blog/Hadoop%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB.assets/image-20220927092546550.png" alt="image-20220927092546550"></p> <ul><li><p>数值类型(AnyVal)</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestDataType <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 整数类型 byte short int long 整数类型 默认 int</span>
    <span class="token keyword">var</span> byte1<span class="token operator">:</span><span class="token builtin">Byte</span> <span class="token operator">=</span><span class="token number">127</span>
    <span class="token keyword">var</span> short1<span class="token operator">:</span><span class="token builtin">Short</span> <span class="token operator">=</span> <span class="token number">32767</span>
    <span class="token keyword">var</span> long1<span class="token operator">:</span><span class="token builtin">Long</span> <span class="token operator">=</span> <span class="token number">10L</span><span class="token punctuation">;</span>

    <span class="token comment">// 浮点类型 fload double 浮点类型默认为double</span>
    <span class="token comment">// 字符类型 char</span>
    <span class="token keyword">var</span> c<span class="token operator">:</span> <span class="token builtin">Char</span> <span class="token operator">=</span> <span class="token char">'C'</span>
    <span class="token comment">// 布尔类型</span>
    <span class="token keyword">var</span> is_ok<span class="token operator">:</span> <span class="token builtin">Boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token comment">// Unit类型 类似 void</span>
    <span class="token comment">// Null 类型 只能用于引用类型</span>
    <span class="token keyword">var</span> food <span class="token operator">=</span> <span class="token keyword">new</span> Food<span class="token punctuation">(</span><span class="token punctuation">)</span>
    food <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token comment">// Nothing 类型 可以作为没有正常返回值的方法的返回类型</span>
    <span class="token keyword">def</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Nothing</span><span class="token operator">=</span><span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> Exception
    <span class="token punctuation">}</span>
<span class="token comment">//    test()</span>
    <span class="token comment">// 数值类型自动转换</span>
    <span class="token comment">// 1.自动提升原则</span>
    <span class="token keyword">var</span> c1<span class="token operator">:</span><span class="token builtin">Double</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">2.222</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;c= &quot;</span><span class="token operator">+</span>c1<span class="token punctuation">)</span> <span class="token comment">// c= 3.222</span>
    <span class="token comment">// 2.自动类型转换</span>
    <span class="token keyword">var</span> d2<span class="token operator">:</span><span class="token builtin">Double</span> <span class="token operator">=</span><span class="token number">2</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;d2= &quot;</span><span class="token operator">+</span>d2<span class="token punctuation">)</span> <span class="token comment">// d2= 2.0</span>
    <span class="token comment">// 3.byte short 和 char 不会自动转换</span>
    <span class="token keyword">var</span> byte <span class="token operator">=</span> <span class="token number">64</span>
    <span class="token comment">// byte short 会自动转成 int 进行计算</span>
    <span class="token keyword">var</span> bt1<span class="token operator">:</span><span class="token builtin">Byte</span> <span class="token operator">=</span> <span class="token number">60</span>
    <span class="token keyword">var</span> sh1<span class="token operator">:</span><span class="token builtin">Short</span> <span class="token operator">=</span> <span class="token number">127</span>
    <span class="token keyword">var</span> result<span class="token operator">:</span><span class="token builtin">Int</span><span class="token operator">=</span> bt1<span class="token operator">+</span>bt1
    println<span class="token punctuation">(</span><span class="token string">&quot;result =&quot;</span><span class="token operator">+</span>result<span class="token punctuation">)</span> <span class="token comment">// result =120</span>
    <span class="token comment">// 强制类型转换</span>
    <span class="token keyword">var</span> float1<span class="token operator">:</span><span class="token builtin">Float</span> <span class="token operator">=</span> <span class="token number">2.11111f</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;float1 =&quot;</span><span class="token operator">+</span>float1<span class="token punctuation">)</span>
    <span class="token keyword">var</span> double1<span class="token operator">:</span><span class="token builtin">Double</span> <span class="token operator">=</span> <span class="token number">2.222</span> <span class="token comment">// float1 =2.11111</span>
    <span class="token comment">// 高精度数据转为低精度 需要强制转换</span>
    <span class="token keyword">var</span> int2 <span class="token operator">=</span> double1<span class="token punctuation">.</span>toInt
    println<span class="token punctuation">(</span><span class="token string">&quot;float2 =&quot;</span><span class="token operator">+</span>int2<span class="token punctuation">)</span> <span class="token comment">// float2 =2</span>
    <span class="token comment">// 数值类型和String类型之间转换</span>
    <span class="token comment">// 1.基本类型转 String</span>
    <span class="token keyword">var</span> a1<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">123</span>
    <span class="token keyword">var</span> string<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
    <span class="token keyword">var</span> stringResult <span class="token operator">=</span> a1 <span class="token operator">+</span> string
    println<span class="token punctuation">(</span><span class="token string">&quot;StringResult =&quot;</span><span class="token operator">+</span>stringResult<span class="token punctuation">)</span> <span class="token comment">// StringResult =123hello</span>
    <span class="token comment">// 2.String 转基本类型</span>
    <span class="token keyword">var</span> string2<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;66&quot;</span>
    println<span class="token punctuation">(</span>string2<span class="token punctuation">.</span>toInt<span class="token punctuation">)</span> <span class="token comment">// 66</span>
    println<span class="token punctuation">(</span>string2<span class="token punctuation">.</span>toShort<span class="token punctuation">)</span> <span class="token comment">// 66</span>
    println<span class="token punctuation">(</span>string2<span class="token punctuation">.</span>toDouble<span class="token punctuation">)</span> <span class="token comment">// 66.0</span>
    println<span class="token punctuation">(</span>string2<span class="token punctuation">.</span>toFloat<span class="token punctuation">)</span> <span class="token comment">// 66.0</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div></li> <li><p>引用类型(AnyRef)</p></li></ul></li></ul> <h3 id="_8-1-2-运算符"><a href="#_8-1-2-运算符" class="header-anchor">#</a> 8.1.2 运算符</h3> <ul><li><p>算数运算符</p></li> <li><p>关系运算符</p></li> <li><p>逻辑运算符</p></li> <li><p>赋值运算符</p></li> <li><p>位运算符</p></li> <li><p>Scala运算符的本质</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> TestOperator <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.算数运算</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;加法 =&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 加法 =2</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;减法 =&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 减法 =0</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;乘法 =&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 乘法 =4</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;整数除法=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 整数除法=1</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;浮点数除法=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">/</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 浮点数除法=1.5</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;求余运算= &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">%</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 求余运算= 2</span>
    <span class="token comment">// 2.关系运算符 &gt; &lt; &gt;= &lt;== == ! eq</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    <span class="token keyword">var</span> str1<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
    <span class="token keyword">var</span> str2<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token builtin">String</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">//Scala完全面向对象，因此都采用方法的方式比较对象，但是scala为了兼容其他语言，仍然保留双等号的功能，但是比较方式发生改变。如果使用双等号进行数据的比较，首先进行非空判断，然后使用equals方法比较。</span>
    <span class="token comment">// 如果需要比较对象的内存地址，使用eq方法</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;字符串比较 =&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>str1 <span class="token operator">==</span> str2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 字符串比较 =true</span>
    <span class="token comment">// eq 比较的是引用地址</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;eq 比较 &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span>eq<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// eq 比较 false</span>
    <span class="token comment">// equals 比较的是字符串的内容是否相等</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;equals 比较&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span>equals<span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// equals 比较true</span>
    <span class="token comment">// 3.逻辑运算符</span>
    <span class="token keyword">var</span> boo1 <span class="token operator">=</span> <span class="token boolean">true</span>
    <span class="token keyword">var</span> bool2 <span class="token operator">=</span> <span class="token boolean">false</span>
    println<span class="token punctuation">(</span>boo1 <span class="token operator">&amp;&amp;</span> bool2<span class="token punctuation">)</span> <span class="token comment">// false</span>
    println<span class="token punctuation">(</span>boo1 <span class="token operator">||</span> bool2<span class="token punctuation">)</span> <span class="token comment">// true</span>
    println<span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>boo1 <span class="token operator">&amp;&amp;</span> bool2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
    <span class="token comment">// 4.位运算符</span>
    <span class="token comment">// 5.scala 运算符的本质是函数</span>
    <span class="token comment">// 标准的加法运算</span>
    <span class="token keyword">val</span> i<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">1.</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment">// （1）当调用对象的方法时，.可以省略</span>
    <span class="token keyword">val</span> j<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>

    <span class="token comment">// （2）如果函数参数只有一个，或者没有参数，()可以省略</span>
    <span class="token keyword">val</span> k<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">1</span>

    println<span class="token punctuation">(</span><span class="token number">1.</span>toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> toString<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
    println<span class="token punctuation">(</span><span class="token number">1</span> toString<span class="token punctuation">)</span> <span class="token comment">// 1</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><blockquote><p>Java：==比较两个变量本身的值，即两个对象在内存中的首地址；equals比较字符串中所包含的内容是否相同。</p> <p>Scala：==更加类似于Java中的equals</p> <p>Scala中没有++、–操作符，可以通过+=、-=来实现同样的效果</p></blockquote></li></ul> <h3 id="_8-1-3-流程控制"><a href="#_8-1-3-流程控制" class="header-anchor">#</a> 8.1.3 流程控制</h3> <ul><li><p>if else</p> <p>if else 表达式存在返回值，如果if 和 else的子句类型不一致，Scala会自动进行推断，会取两个类型的公共父类型。</p></li> <li><p>switch</p> <p>Scala不存在Switch，存在模式匹配。</p></li> <li><p>for</p></li> <li><p>while do while</p></li> <li><p>break ,continue</p></li> <li><p>多重循环</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>StdIn
<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>util<span class="token punctuation">.</span>control<span class="token punctuation">.</span></span>Breaks
<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>util<span class="token punctuation">.</span>control<span class="token punctuation">.</span></span>Breaks<span class="token punctuation">.</span>break

<span class="token keyword">object</span> ProcessControl <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// if</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;please input a number&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> n1 <span class="token operator">=</span> StdIn<span class="token punctuation">.</span>readInt<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;please input your age&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> age <span class="token operator">=</span> StdIn<span class="token punctuation">.</span>readInt<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 使用 if 实现 三目运算</span>
    <span class="token keyword">val</span> result<span class="token operator">:</span> <span class="token builtin">Any</span> <span class="token operator">=</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token string">&quot;童年&quot;</span> <span class="token keyword">else</span> <span class="token string">&quot;成年&quot;</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;result =&quot;</span><span class="token operator">+</span>result<span class="token punctuation">)</span>
    <span class="token keyword">var</span> res<span class="token operator">:</span> <span class="token builtin">Any</span> <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n1 <span class="token operator">&lt;</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res <span class="token operator">=</span> <span class="token string">&quot;童年&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>n1 <span class="token operator">&gt;</span> <span class="token number">18</span> <span class="token operator">&amp;&amp;</span> n1 <span class="token operator">&lt;</span> <span class="token number">60</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      res <span class="token operator">=</span> <span class="token string">&quot;青年&quot;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      res <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>res<span class="token punctuation">)</span>

    <span class="token comment">// for</span>
    <span class="token comment">// 1.左闭右b左闭右闭 (To)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 2.左闭右开 范围数据循环(Until)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> until <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 3.循环守卫</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span> <span class="token keyword">if</span> i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 4. 循环步长</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;循环步长&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span> by <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 5.引入变量</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span>
         j <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">}</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;i=&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; j= &quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;多个变量的第二个写法&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 一行有多个语句记得分号隔开，或者使用{ }</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">;</span> j <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;i=&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot; j= &quot;</span> <span class="token operator">+</span> j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 倒序打印</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;倒序打印第一个方法&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">10</span> to <span class="token number">1</span> by <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;i= &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;倒序打印第二个方法&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span> reverse<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;i= &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 6.循环返回值 yield for 推导式 返回一个集合</span>
    <span class="token keyword">var</span> list <span class="token operator">=</span> <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">yield</span> i
    println<span class="token punctuation">(</span><span class="token string">&quot;list =&quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span>
    <span class="token comment">// scala 中的 break 和 continue</span>
    <span class="token comment">// 1.break 使用</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;========break的使用========&quot;</span><span class="token punctuation">)</span>
    Breaks<span class="token punctuation">.</span>breakable<span class="token punctuation">(</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          break<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====scala 中continue的使用======&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      Breaks<span class="token punctuation">.</span>breakable <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          break<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// do while</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">do</span> <span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> i
      i <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;sum =&quot;</span> <span class="token operator">+</span> sum<span class="token punctuation">)</span>
    <span class="token comment">// while</span>
    <span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">var</span> sum1 <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sum1 <span class="token operator">+=</span> j
      j <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;sum1 =&quot;</span> <span class="token operator">+</span> sum1<span class="token punctuation">)</span>
    <span class="token comment">// 多重循环 生成 99 乘法表</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">&lt;-</span> <span class="token number">1</span> to <span class="token namespace">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        print<span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token string">&quot;*&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">*</span> j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\t&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      println<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br></div></div><blockquote><p>注意 Scala中break 和 continue 的区别,break使用<code>()</code>,continue 使用<code>{}</code></p></blockquote></li></ul> <h2 id="_8-2-scala函数式编程"><a href="#_8-2-scala函数式编程" class="header-anchor">#</a> 8.2 Scala函数式编程</h2> <h3 id="_8-2-1-函数基础"><a href="#_8-2-1-函数基础" class="header-anchor">#</a> 8.2.1 函数基础</h3> <ul><li><p>函数基本语法</p></li> <li><p>函数和方法的区别</p> <ul><li><p>为完成某一功能的程序语句的集合，称为函数</p></li> <li><p>类中的函数称为方法</p></li> <li><p>函数没有重载和重写的概念；方法可以进行重载和重写</p></li></ul></li> <li><p>函数定义</p></li> <li><p>函数参数</p> <ul><li>默认参数</li> <li>关键字参数(带名参数)</li> <li>可变参数</li></ul></li> <li><p>特殊的函数-过程</p> <p>在Scala中，定义函数时，如果函数体直接在花括号里面而没有使用=连接，则函数的返回值类型就是Unit，这样的函数称之为过程。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 函数 根据函数至简原则，如果函数体只有一行代码可以省略花括号</span>
<span class="token keyword">def</span> sayHello<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> name
<span class="token comment">// 函数</span>
<span class="token keyword">def</span> sayHello<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> name
<span class="token comment">// 过程 根据函数至简原则，如果函数没有返回值可以省略等号</span>
<span class="token keyword">def</span> sayHello<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> name <span class="token punctuation">}</span>
<span class="token comment">// 过程 过程还有一种写法，就是将函数的返回值类型显式定义为Unit</span>
<span class="token keyword">def</span> sayHello<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> name
<span class="token comment">// 注意以下写法是错误的 = {} 必须保留一个</span>
<span class="token keyword">def</span> sayHello<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span>   <span class="token string">&quot;Hello, &quot;</span> <span class="token operator">+</span> name 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><blockquote><p>过程通常用于不需要返回值的函数。</p></blockquote></li> <li><p>函数至简原则</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> FunctionDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.函数基本语法</span>
    <span class="token keyword">def</span> say_hello<span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;hello &quot;</span> <span class="token operator">+</span> args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    say_hello<span class="token punctuation">(</span><span class="token string">&quot;scala&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// 2.函数和方法</span>
    <span class="token keyword">def</span> main<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token comment">//      println(&quot;hello main&quot;)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 函数不能重写，方法可以重写和重载</span>
    <span class="token comment">// 函数嵌套</span>
    <span class="token keyword">def</span> test2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">def</span> test1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;test1方法执行&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    test2<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 3.函数的定义</span>
    <span class="token comment">// 无参，无返回值</span>
    <span class="token keyword">def</span> test3_1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;无参，无返回值&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 无参,有返回值</span>
    <span class="token keyword">def</span> test3_2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;无参,有返回值&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 有参，无返回值</span>
    <span class="token keyword">def</span> test3_3<span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;age is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 有参，有返回值</span>
    <span class="token keyword">def</span> test_4<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;=======函数定义开始执行========&quot;</span><span class="token punctuation">)</span>
    test3_1<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>test3_2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    test3_3<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>test_4<span class="token punctuation">(</span><span class="token string">&quot;Justin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 4.函数的参数</span>
    <span class="token comment">// 可变参数</span>
    <span class="token comment">// 参数默认值</span>
    <span class="token keyword">def</span> test4_1<span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> s<span class="token operator">:</span> <span class="token builtin">String</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;age &quot;</span> <span class="token operator">+</span> age <span class="token operator">+</span> <span class="token string">&quot; s&quot;</span> <span class="token operator">+</span> s<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;======可变参数执行=======&quot;</span><span class="token punctuation">)</span>
    test4_1<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&quot;justin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lol&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lol66&quot;</span><span class="token punctuation">)</span> <span class="token comment">//age 12 sWrappedArray(justin, lol, lol66)</span>

    <span class="token comment">// 利用可变参数 定义求和函数</span>
    <span class="token keyword">def</span> add<span class="token punctuation">(</span>number<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>num <span class="token keyword">&lt;-</span> number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">+=</span> num
      <span class="token punctuation">}</span>
      sum
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 参数默认值</span>
    <span class="token keyword">def</span> test4_2<span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;Justin&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;age is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string">,name is </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    test4_2<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> name <span class="token operator">=</span> <span class="token string">&quot;Jack&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// 5.函数至简原则</span>
    <span class="token comment">//（1） return可以省略,Scala会使用函数体的最后一行代码作为返回值</span>
    <span class="token keyword">def</span> f1<span class="token punctuation">(</span> s <span class="token operator">:</span> <span class="token builtin">String</span> <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span>  <span class="token punctuation">{</span>
      s <span class="token operator">+</span> <span class="token string">&quot; jinlian&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f1执行&quot;</span><span class="token operator">+</span>f1<span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//（2）如果函数体只有一行代码，可以省略花括号</span>
    <span class="token keyword">def</span> f2<span class="token punctuation">(</span>s<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> s <span class="token operator">+</span> <span class="token string">&quot; jinlian&quot;</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;f2执行&quot;</span><span class="token operator">+</span>f2<span class="token punctuation">(</span><span class="token string">&quot;Justin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token comment">//（3）返回值类型如果能够推断出来，那么可以省略（:和返回值类型一起省略）</span>
    <span class="token keyword">def</span> f3<span class="token punctuation">(</span> s <span class="token operator">:</span> <span class="token builtin">String</span> <span class="token punctuation">)</span> <span class="token operator">=</span> s <span class="token operator">+</span> <span class="token string">&quot; jinlian&quot;</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f3执行&quot;</span><span class="token operator">+</span>f3<span class="token punctuation">(</span><span class="token string">&quot;Hello3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//（4）如果有return，则不能省略返回值类型，必须指定。</span>
    <span class="token keyword">def</span> f4<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&quot;ximenqing4&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f4执行&quot;</span><span class="token operator">+</span>f4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//（5）如果函数明确声明unit，那么即使函数体中使用return关键字也不起作用</span>
    <span class="token keyword">def</span> f5<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
       <span class="token string">&quot;dalang5&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f5执行 &quot;</span><span class="token operator">+</span>f5<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//（6）Scala如果期望是无返回值类型,可以省略等号</span>
    <span class="token comment">// 将无返回值的函数称之为过程</span>
    <span class="token keyword">def</span> f6<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;dalang6&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f6执行 &quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>f6<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//（7）如果函数无参，但是声明了参数列表，那么调用时，小括号，可加可不加</span>
    <span class="token keyword">def</span> f7<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&quot;dalang7&quot;</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f7执行 &quot;</span><span class="token operator">+</span>f7<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f7执行 &quot;</span><span class="token operator">+</span>f7<span class="token punctuation">)</span>

    <span class="token comment">//（8）如果函数没有参数列表，那么小括号可以省略,调用时小括号必须省略</span>
    <span class="token keyword">def</span> f8 <span class="token operator">=</span> <span class="token string">&quot;dalang&quot;</span>
    <span class="token comment">//println(f8())</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;f8执行 &quot;</span><span class="token operator">+</span>f8<span class="token punctuation">)</span>

    <span class="token comment">//（9）如果不关心名称，只关心逻辑处理，那么函数名（def）可以省略</span>
    <span class="token keyword">def</span> f9 <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token keyword">=&gt;</span><span class="token punctuation">{</span>println<span class="token punctuation">(</span><span class="token string">&quot;wusong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

    <span class="token keyword">def</span> f10<span class="token punctuation">(</span>f<span class="token operator">:</span><span class="token builtin">String</span><span class="token keyword">=&gt;</span><span class="token builtin">Unit</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      f<span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    f10<span class="token punctuation">(</span>f9<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>f10<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token keyword">=&gt;</span><span class="token punctuation">{</span>println<span class="token punctuation">(</span><span class="token string">&quot;wusong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br></div></div></li></ul> <h3 id="_8-2-2-函数高级"><a href="#_8-2-2-函数高级" class="header-anchor">#</a> 8.2.2 函数高级</h3> <ul><li><p>高阶函数</p> <ul><li>函数作为值传递</li> <li>函数作为参数传递</li> <li>函数作为返回值</li></ul></li> <li><p>常见的高阶函数及使用</p> <ul><li><p>map</p> <p>对集合传入的每一个元素都进行处理,返回一个<code>新的集合</code></p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">var</span> listBuffer_map<span class="token operator">:</span> ListBuffer<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> ListBuffer<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
println<span class="token punctuation">(</span>listBuffer_map<span class="token punctuation">.</span>map<span class="token punctuation">(</span>_ <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ListBuffer(2, 4, 6, 8)</span>
println<span class="token punctuation">(</span><span class="token string">&quot;listBuffer_map =&quot;</span><span class="token operator">+</span>listBuffer_map<span class="token punctuation">)</span> <span class="token comment">// listBuffer_map =ListBuffer(1, 2, 3, 4)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>listBuffer_map.map(_ * 2) 等效于 listBuffer_map.map(num=&gt;num*2)，_代表每一个元素</p></blockquote></li> <li><p>flatMap</p> <p>对集合传入的每个元素都进行处理，返回一个或者多个元素</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> Array<span class="token punctuation">(</span><span class="token string">&quot;hello you&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello me&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
res5<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> Array<span class="token punctuation">(</span>hello<span class="token punctuation">,</span> you<span class="token punctuation">,</span> hello<span class="token punctuation">,</span> me<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>foreach</p> <p>对传入的每一个元素都进行处理，没有返回值</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
<span class="token number">1</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">7</span>
<span class="token number">9</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>一般用于集合的遍历</p></blockquote></li> <li><p>filter</p> <p>对传入的每个元素都进行条件判断，如果返回true，则保留该元素，否则过滤掉该元素。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_ <span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>
res7<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><code>Array(1,2,3,4,5,6,7,8,9,10).filter(_ %2 ==0)</code>等效于 <code>Array(1,2,3,4,5,6,7,8,9,10).filter(num=&gt;num%2==0)</code></p></blockquote></li> <li><p>reduceLeft</p> <p>从左侧元素开始，进行reduce操作 。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code>scala<span class="token operator">&gt;</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span>reduceLeft<span class="token punctuation">(</span>_<span class="token operator">+</span>_<span class="token punctuation">)</span>
res10<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">55</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><code>Array(1,2,3,4,5,6,7,8,9,10).reduceLeft(_+_)</code>等效于 <code>Array(1,2,3,4,5,6,7,8,9,10).reduceLeft((t1,t2)=&gt;t1+t2)</code></p> <p>注意：这里的两个_代表是两个元素</p></blockquote></li></ul></li> <li><p>匿名函数</p></li> <li><p>函数柯里化和闭包</p> <ul><li>闭包：如果一个函数，访问到了它的外部（局部）变量的值，那么这个函数和他所处的环境，称为闭包。</li> <li>函数柯里化：把一个参数列表的多个参数，变成多个参数列表。</li></ul></li> <li><p>递归</p> <ul><li>一个函数/方法在函数/方法体内又调用了本身，我们称之为递归调用</li></ul></li> <li><p>控制抽象</p> <ul><li>值传递(传递整个函数)</li> <li>名传递(传递函数名)</li></ul> <blockquote><p>Java 中只有值传递,Scala中有值传递也名传递</p></blockquote></li> <li><p>惰性函数</p> <p>Scala提供了lazy特性，如果将一个变量声明为lazy,则只有在第一次使用该变量时，变量对应的表达式才会发生计算。</p> <blockquote><p>对于特别耗时的操作，使用lazy非常有用。</p></blockquote></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">chapter44</span>

<span class="token keyword">object</span> FunctionDemo1 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 高阶函数</span>
    <span class="token comment">// 0.高阶函数 函数作为值传递(有点类似函数表达式)</span>
    <span class="token keyword">def</span> say_hi<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;hi&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> function1 <span class="token operator">=</span> say_hi _
    function1<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// hi</span>

    <span class="token comment">// 1.高阶函数 函数作为参数传递</span>
    <span class="token keyword">def</span> describle<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      x <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> y
    <span class="token punctuation">}</span>

    <span class="token comment">// 函数签名，f表示函数名称；(String，String)表示输入两个String参数；String表示函数返回值</span>
    <span class="token keyword">def</span> concat<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> f<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      f<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 高阶函数调用</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;函数作为参数传递 :&quot;</span> <span class="token operator">+</span> concat<span class="token punctuation">(</span><span class="token string">&quot;justin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;LOL&quot;</span><span class="token punctuation">,</span> describle<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 2.高阶函数,函数作为返回值返回</span>
    <span class="token keyword">def</span> doSquare<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">*</span> x
    <span class="token punctuation">}</span>

    <span class="token keyword">def</span> add1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">def</span> add2<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        a <span class="token operator">+</span> b
      <span class="token punctuation">}</span>
      <span class="token comment">// add2 _ 代表整个函数本身，返回一个函数</span>
      add2 _
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>doSquare<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>add1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 匿名函数</span>
    <span class="token keyword">var</span> add <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> y
    println<span class="token punctuation">(</span>add<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 函数柯里化 把一个参数列表的多个参数，变成多个参数列表</span>
    <span class="token comment">// 正常写法</span>
    <span class="token keyword">def</span> sum_num<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      x <span class="token operator">+</span> y
    <span class="token punctuation">}</span>

    <span class="token comment">// 函数柯里化 的本质 返回的是一个函数</span>
    <span class="token keyword">def</span> sum_num2<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> y
    <span class="token punctuation">}</span>


    <span class="token comment">// 函数柯里化写法</span>
    <span class="token keyword">def</span> sum_num_1<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>y<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      x <span class="token operator">+</span> y
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;正常写法调用 &quot;</span> <span class="token operator">+</span> sum_num<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;函数柯里化调用 &quot;</span> <span class="token operator">+</span> sum_num_1<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token comment">// 闭包</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;========闭包的使用======&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> f1<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> a<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">10</span>

      <span class="token keyword">def</span> f2<span class="token punctuation">(</span>b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
        a <span class="token operator">+</span> b
      <span class="token punctuation">}</span>

      f2 _
    <span class="token punctuation">}</span>

    <span class="token comment">// 在调用时，f1函数执行完毕后，局部变量a应该随着栈空间释放掉</span>
    <span class="token keyword">val</span> f <span class="token operator">=</span> f1<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 但是在此处，变量a其实并没有在栈空间中释放，而是包含在了f2函数的内部，形成了闭包的效果</span>
    println<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>f1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 递归</span>
    <span class="token keyword">def</span> Fibonacci<span class="token punctuation">(</span>n<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token number">1</span>
      <span class="token keyword">else</span>
        Fibonacci<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> Fibonacci<span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;斐波那契数列 &quot;</span> <span class="token operator">+</span> Fibonacci<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 控制抽象</span>

    <span class="token comment">// 值传递</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====值传递=====&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> f1_value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;hello scala&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">def</span> f2_value<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    f2_value<span class="token punctuation">(</span>f1_value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 名传递</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====名传递=====&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> f1_name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;hello scala&quot;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// f 为签名函数</span>
    <span class="token keyword">def</span> f2_name<span class="token punctuation">(</span>f<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>f<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    f2_name<span class="token punctuation">(</span>f1_name<span class="token punctuation">)</span>

    <span class="token comment">// 惰性函数 Scala中使用关键字lazy来定义惰性变量，实现延迟加载(懒加载)。</span>
    <span class="token comment">//惰性变量只能是不可变变量，并且只有在调用惰性变量时，才会去实例化这个变量。</span>
    <span class="token keyword">def</span> init<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;init begin开始了&quot;</span><span class="token punctuation">)</span>
      <span class="token string">&quot;hello&quot;</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;=====init begin====&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> result1<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">lazy</span> <span class="token keyword">val</span> result <span class="token operator">=</span> init<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;result = &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span>


  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br></div></div></li></ul> <h2 id="_8-3-scala面向对象"><a href="#_8-3-scala面向对象" class="header-anchor">#</a> 8.3 Scala面向对象</h2> <h3 id="_8-3-1-类和对象"><a href="#_8-3-1-类和对象" class="header-anchor">#</a> 8.3.1 类和对象</h3> <ul><li><p>定义类</p></li> <li><p>属性</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span>BeanProperty
<span class="token keyword">object</span> ObjectDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 类和对象</span>
    <span class="token keyword">class</span> Person <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> Teacher <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
    <span class="token keyword">class</span> Person2 <span class="token punctuation">{</span>
       <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;bobo&quot;</span>
      <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _ <span class="token comment">// _设置默认值 val 修饰的属性不能赋默认值，必须显示指定</span>
      <span class="token annotation punctuation">@BeanProperty</span> <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;男&quot;</span> <span class="token comment">// @BeanPropetry，可以自动生成规范的setXxx/getXxx方法</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> Person2<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">person2<span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span><span class="token string">,age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">person2<span class="token punctuation">.</span>age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    person2<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">person2<span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span><span class="token string">,age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">person2<span class="token punctuation">.</span>age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    person2<span class="token punctuation">.</span>setSex<span class="token punctuation">(</span><span class="token string">&quot;女&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>person2<span class="token punctuation">.</span>getSex<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ul> <h3 id="_8-3-2-封装"><a href="#_8-3-2-封装" class="header-anchor">#</a> 8.3.2 封装</h3> <ul><li><p>访问权限</p></li> <li><p>方法</p></li> <li><p>创建对象</p></li> <li><p>构造器</p> <ul><li><p>主构造器</p> <p>类似Java的默认构造函数 this(),Scala的主constructor是与类名放在一起的，与Java不同，Java中的构造函数是写在类内部的.</p> <blockquote><p>注意：在类中，没有定义在任何方法或者是代码块之中的代码就是主constructor的代码</p></blockquote></li> <li><p>辅助构造器</p> <p>类似Java的重载构造函数 this(name,age)</p></li> <li><p>基本语法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> 类名<span class="token punctuation">(</span><span class="token operator">*</span><span class="token operator">*</span>形参列表<span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token operator">*</span><span class="token operator">*</span><span class="token comment">//** **主构造器**</span>

  <span class="token comment">// 类体</span>

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>形参列表<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 辅助构造器</span>

  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>形参列表<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//辅助构造器可以有多个...</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>注意事项</p> <ul><li><p>辅助构造器，函数的名称this，可以有多个，编译器通过参数的个数及类型来区分。</p></li> <li><p>辅助构造方法不能直接构建对象，必须直接或者间接调用主构造方法。</p></li> <li><p>构造器调用其他另外的构造器，要求被调用构造器必须提前声明。</p></li></ul></li></ul></li> <li><p>构造器参数</p> <p>Scala类的主构造器函数的形参包括三种类型：未用任何修饰、var修饰、val修饰</p> <ul><li><p>未用任何修饰符修饰，这个参数就是一个局部变量</p></li> <li><p>var修饰参数，作为类的成员属性使用，可以修改</p></li> <li><p>val修饰参数，作为类只读属性使用，不能修改</p></li></ul></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">class</span> Person3 <span class="token punctuation">{</span>
  <span class="token comment">// 封装 ，使用 idea 自动生成 getter setter 方法</span>
  <span class="token comment">//Scala中的public属性，底层实际为private，并通过get方法（obj.field()）和set方法（obj.field_=(value)）对其进行操作。</span>
  <span class="token comment">// 所以Scala并不推荐将属性设为private，再为其设置public的get和set方法的做法。但由于很多Java框架都利用反射调用getXXX和setXXX方法，有时候为了和这些框架兼容，</span>
  <span class="token comment">// 也会为Scala的属性设置getXXX和setXXX方法（通过@BeanProperty注解实现）。</span>

  <span class="token keyword">private</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">]</span> <span class="token keyword">var</span> _name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _name

  <span class="token keyword">def</span> name_<span class="token operator">=</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    _name <span class="token operator">=</span> value
  <span class="token punctuation">}</span>

  <span class="token keyword">private</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">]</span> <span class="token keyword">var</span> _age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _age

  <span class="token keyword">def</span> age_<span class="token operator">=</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    _age <span class="token operator">=</span> value
  <span class="token punctuation">}</span>

  <span class="token comment">// 重写 toString 方法</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> toString<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string"> age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span>

  <span class="token keyword">def</span> sum<span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    a <span class="token operator">+</span> b
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// 创建对象</span>
<span class="token keyword">class</span> Person5 <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;justin&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 构造器</span>
<span class="token comment">// 无参构造器可以省略不写</span>
<span class="token keyword">class</span> Person6 <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _
  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 辅助构造器 第一行 一定是对先前构造函数的 引用</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    println<span class="token punctuation">(</span><span class="token string">&quot;辅助构造器&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    println<span class="token punctuation">(</span><span class="token string">&quot;辅助构造器&quot;</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age

  <span class="token punctuation">}</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> toString<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string"> age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string"> &quot;</span></span>
<span class="token punctuation">}</span>
<span class="token comment">// 构造器函数的 参数</span>

<span class="token comment">/**
 *
 * @param name 局部变量
 * @param age var 成员属性 可以修改
 * @param sex val 类的只读属性
 */</span>
<span class="token keyword">class</span> Person7<span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token keyword">var</span> age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">,</span><span class="token keyword">val</span> sex<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> toString<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot; name = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string"> age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string"> sex = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">sex</span><span class="token punctuation">}</span></span><span class="token string"> &quot;</span></span>
<span class="token punctuation">}</span>




<span class="token keyword">object</span> ObjectDemo1 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> person3 <span class="token operator">=</span> <span class="token keyword">new</span> Person3<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// setter方法</span>
    person3<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span>
    person3<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">12</span>
    <span class="token comment">// person3.name getter 方法</span>
    <span class="token comment">//    println(person3.name, person3.age)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;调用toString方法 &quot;</span> <span class="token operator">+</span> person3<span class="token punctuation">)</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;person3 sum方法调用 &quot;</span> <span class="token operator">+</span> person3<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> person5 <span class="token operator">=</span> <span class="token keyword">new</span> Person5<span class="token punctuation">(</span><span class="token punctuation">)</span>
    person5<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;张三&quot;</span>
    println<span class="token punctuation">(</span>person5<span class="token punctuation">.</span>name<span class="token punctuation">)</span>


    <span class="token keyword">var</span> person6_1 <span class="token operator">=</span> <span class="token keyword">new</span> Person6<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;无参构造器 &quot;</span> <span class="token operator">+</span> person6_1<span class="token punctuation">)</span>

    <span class="token keyword">var</span> person6_2 <span class="token operator">=</span> <span class="token keyword">new</span> Person6<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;age 带参构造器 &quot;</span> <span class="token operator">+</span> person6_2<span class="token punctuation">)</span>

    <span class="token keyword">var</span> person6_3 <span class="token operator">=</span> <span class="token keyword">new</span> Person6<span class="token punctuation">(</span><span class="token string">&quot;Justin&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;name 带参构造器 &quot;</span> <span class="token operator">+</span> person6_3<span class="token punctuation">)</span>

    <span class="token keyword">var</span> person6_4 <span class="token operator">=</span> <span class="token keyword">new</span> Person6<span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&quot;Justin&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;age name 带参构造器 &quot;</span> <span class="token operator">+</span> person6_4<span class="token punctuation">)</span>


    <span class="token keyword">var</span> person7 <span class="token operator">=</span> <span class="token keyword">new</span> Person7<span class="token punctuation">(</span><span class="token string">&quot;justin&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;person7 &quot;</span><span class="token operator">+</span>person7<span class="token punctuation">)</span>
    <span class="token comment">// name 局部变量 无法访问</span>
<span class="token comment">//    person7.name</span>
    println<span class="token punctuation">(</span>person7<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
    <span class="token comment">// sex Person7类的只读属性 不能修改</span>
<span class="token comment">//    person7.sex = &quot;女&quot;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br></div></div></li></ul> <h3 id="_8-3-3-继承"><a href="#_8-3-3-继承" class="header-anchor">#</a> 8.3.3 继承</h3> <ul><li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 继承</span>
<span class="token keyword">class</span> Human<span class="token punctuation">(</span>nameArgs<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> nameArgs
  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>nameArgs<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>nameArgs<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
    println<span class="token punctuation">(</span><span class="token string">&quot;父类的辅助构造器&quot;</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;父类的主构造器&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Teacher<span class="token punctuation">(</span>nameArgs<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> Human<span class="token punctuation">(</span>nameArgs<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _
  <span class="token keyword">def</span> <span class="token keyword">this</span><span class="token punctuation">(</span>nameArgs<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">(</span>nameArgs<span class="token punctuation">,</span>age<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex
    println<span class="token punctuation">(</span><span class="token string">&quot;子类的辅助构造器&quot;</span><span class="token punctuation">)</span>


  <span class="token punctuation">}</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;子类的主构造器&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>


<span class="token keyword">object</span> ObjectDemo2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> Teacher<span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">&quot;男&quot;</span><span class="token punctuation">)</span>


  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div></li></ul> <h3 id="_8-3-4-抽象类"><a href="#_8-3-4-抽象类" class="header-anchor">#</a> 8.3.4 抽象类</h3> <ul><li><p>抽象属性和抽象方法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//1 定义抽象类：</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> Person<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">//通过abstract关键字标记抽象类</span>

<span class="token comment">//2 定义抽象属性：</span>
<span class="token keyword">val</span><span class="token operator">|</span><span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token comment">//一个属性没有初始化，就是抽象属性</span>

<span class="token comment">//3 定义抽象方法：</span>
<span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">String</span> <span class="token comment">//只声明而没有实现的方法，就是抽象方法</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 抽象类</span>
<span class="token comment">// 抽象方法</span>
<span class="token comment">// 抽象属性</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> Person9<span class="token punctuation">{</span>
  <span class="token keyword">val</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token comment">// 抽象属性</span>
  <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span> <span class="token comment">// 抽象方法</span>
  <span class="token comment">// 非抽象属性 只能用 val</span>
  <span class="token keyword">val</span> age<span class="token operator">:</span><span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">def</span> say_hello<span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello 父类&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 抽象类中可以带有参构造函数 这是和特质最重要的区别</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> Person99<span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">def</span> say_99<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span>
  <span class="token keyword">def</span> say_666<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;6666&quot;</span><span class="token operator">+</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Doctor <span class="token keyword">extends</span> Person9<span class="token punctuation">{</span>
  <span class="token comment">// 实现抽象属性</span>
   <span class="token keyword">val</span> name<span class="token operator">:</span><span class="token builtin">String</span>  <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
  <span class="token comment">// 实现抽象方法 override 可以省略不写</span>
  <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 重写父类非抽象方法</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> say_hello<span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello 子类&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 重写父类的非抽象属性</span>
  <span class="token keyword">override</span> <span class="token keyword">val</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">11</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> Doctor99 <span class="token keyword">extends</span> Person99<span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;jjj&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 实现抽象方法 override 可以省略不写</span>
  <span class="token keyword">def</span> say_99<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token operator">+</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 重写抽象类中的 非抽象方法</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> say_666<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;6666 hello&quot;</span><span class="token operator">+</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">object</span> ObjectDemo3 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> doctor <span class="token operator">=</span> <span class="token keyword">new</span> Doctor<span class="token punctuation">(</span><span class="token punctuation">)</span>
    doctor<span class="token punctuation">.</span>say_hello
    doctor<span class="token punctuation">.</span>hello<span class="token punctuation">(</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;=====抽象类带有参函数======&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> doctor99 <span class="token operator">=</span> <span class="token keyword">new</span> Doctor99<span class="token punctuation">(</span><span class="token punctuation">)</span>
    doctor99<span class="token punctuation">.</span>say_99<span class="token punctuation">(</span><span class="token punctuation">)</span>
    doctor99<span class="token punctuation">.</span>say_666<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div></li> <li><p>匿名子类</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 匿名子类</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> Person12 <span class="token punctuation">{</span>
  <span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span>

  <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> ObjectDemo4 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> person12 <span class="token operator">=</span> <span class="token keyword">new</span> Person12 <span class="token punctuation">{</span>
      <span class="token keyword">override</span> <span class="token keyword">val</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;Justin&quot;</span>

      <span class="token keyword">override</span> <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>
    person12<span class="token punctuation">.</span>hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul> <h3 id="_8-3-5-单例对象-伴生对象"><a href="#_8-3-5-单例对象-伴生对象" class="header-anchor">#</a> 8.3.5 单例对象(伴生对象)</h3> <ul><li><p>对象-Object</p> <p>object：相当于class的单个实例，通常在里面放一些静态的field或者method
object不能定义带参数的constructor，只有空参的constructor
第一次调用object的方法时，会执行object的constructor，也就是执行object内部不在任何方法中的代码，因为它只有空参的构造函数
但是注意，object的constructor的代码只会在他第一次被调用时执行一次，以后再次调用就不会再执行了</p> <p>object通常用于作为单例模式的实现，或者放class的一些静态成员，比如工具方法。</p> <blockquote><p>可以直接通过Object的名称调用属性或者方法，类似于Java中的静态类。</p></blockquote></li> <li><p>伴生对象概念</p> <p>Scala语言是完全面向对象的语言，所以并没有静态的操作（即在Scala中没有静态的概念）。但是为了能够和Java语言交互（因为Java中有静态概念），就产生了一种特殊的对象来模拟类对象，该对象为单例对象。若单例对象名与类名一致，则称该单例对象这个类的伴生对象，这个类的所有“静态”内容都可以放置在它的伴生对象中声明。</p></li> <li><p>单例对象基本语法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 伴生对象</span>
<span class="token comment">//  (1) 伴生对象采用object关键字声明</span>
<span class="token keyword">object</span> ObjectDemo5 <span class="token punctuation">{</span>
  <span class="token keyword">var</span> country<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;China&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">//  (2) 伴生对象对应的类称为伴生类，伴生对象的名称应该和伴生类名一致</span>
<span class="token keyword">class</span> ObjectDemo5 <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;Justin&quot;</span>

<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test_danli <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//    （3）伴生对象中的属性和方法都可以通过伴生对象名（类名）直接调用访问(伴生作用)</span>
    println<span class="token punctuation">(</span>ObjectDemo5<span class="token punctuation">.</span>country<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token keyword">new</span> ObjectDemo5<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token number">1.</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li> <li><p>apply方法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">chapter55</span>
<span class="token comment">// 伴生类</span>
<span class="token comment">//如果想让主构造器变成私有的，可以在()之前加上private</span>
<span class="token keyword">class</span> ObjectDemo6 <span class="token keyword">private</span> <span class="token punctuation">(</span>cname<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> cname

<span class="token punctuation">}</span>
<span class="token comment">// 伴生对象</span>
<span class="token keyword">object</span> ObjectDemo6<span class="token punctuation">{</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>ObjectDemo6<span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;apply空参被调用&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> ObjectDemo6<span class="token punctuation">(</span><span class="token string">&quot;justin&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span>ObjectDemo6<span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;apply有参被调用&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> ObjectDemo6<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
<span class="token comment">// 如果通过伴生对象的apply方法创建对象，编译器可以自动识别，此时apply方法名可以省略</span>
<span class="token keyword">object</span> Test_apply<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用 apply 创建伴生对象</span>
    <span class="token keyword">val</span> p1 <span class="token operator">=</span> ObjectDemo6<span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> p2 <span class="token operator">=</span> ObjectDemo6<span class="token punctuation">.</span>apply<span class="token punctuation">(</span><span class="token string">&quot;Justin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> p3 <span class="token operator">=</span> ObjectDemo6<span class="token punctuation">(</span><span class="token string">&quot;LOL&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 等效与 ObjectDemo6.apply() apply 可以省略</span>
    print<span class="token punctuation">(</span>p3<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><blockquote><p>通过伴生对象的apply方法，实现不使用new方法创建对象。</p> <p>如果想让主构造器变成私有的，可以在()之前加上private。</p> <p>apply方法可以重载。</p> <p>Scala中obj(arg)的语句实际是在调用该对象的apply方法，即obj.apply(arg)。用以统一面向对象编程和函数式编程的风格。</p> <p>当使用new关键字构建对象时，调用的其实是类的构造方法，当直接使用类名构建对象时，调用的其实时伴生对象的apply方法。</p></blockquote></li></ul> <h3 id="_8-3-6-特质"><a href="#_8-3-6-特质" class="header-anchor">#</a> 8.3.6 特质</h3> <ul><li><p>特质概念</p> <p>Scala语言中，采用特质trait（特征）来代替接口的概念，也就是说，多个类具有相同的特质（特征）时，就可以将这个特质（特征）独立出来，采用关键字trait声明。Scala中的trait中即可以有抽象属性和方法，也可以有具体的属性和方法，一个类可以混入（mixin）多个特质。这种感觉类似于Java中的抽象类。Scala引入trait特征，第一可以替代Java的接口，第二个也是对单继承机制的一种补充。</p></li> <li><p>基本语法</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 特质 类似接口</span>
<span class="token keyword">trait</span> PersonTrait <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> _

  <span class="token keyword">def</span> eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span>

  <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> TraitDemo <span class="token punctuation">{</span>
  <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span>
<span class="token punctuation">}</span>
<span class="token comment">//2.一个类可以实现/继承多个特质</span>
<span class="token comment">//3.所有的Java接口都可以当做Scala特质使用</span>
<span class="token keyword">class</span> Teacher_1 <span class="token keyword">extends</span>  PersonTrait <span class="token keyword">with</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>Serializable<span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> eat<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;eat&quot;</span><span class="token punctuation">)</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;say===&quot;</span><span class="token punctuation">)</span>

  <span class="token keyword">override</span> <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> _
<span class="token punctuation">}</span>
<span class="token keyword">object</span> TestTrait<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> Teacher_1<span class="token punctuation">(</span><span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>eat
    <span class="token comment">// 混入特质 可灵活的扩展类的功能</span>
    <span class="token keyword">var</span> teacher_1 <span class="token operator">=</span> <span class="token keyword">new</span> Teacher_1 <span class="token keyword">with</span> TraitDemo<span class="token punctuation">{</span>
      <span class="token keyword">override</span> <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;男&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>teacher_1<span class="token punctuation">.</span>sex<span class="token punctuation">)</span>


  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></li> <li><p>特质叠加</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 特质叠加第一种情况</span>
<span class="token comment">// 一个类（Sub）混入的两个trait（TraitDemo1，TraitDemo1_1）中具有相同的具体方法，且两个trait之间没有任何关系，解决这类冲突问题，直接在类（Teacher_2）中重写冲突方法。</span>
<span class="token keyword">trait</span> TraitDemo1 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token keyword">trait</span> TraitDemo1_1 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;hello_TraitDemo1_1&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">// 重写冲突方法</span>
<span class="token keyword">class</span> Teacher_2 <span class="token keyword">extends</span> TraitDemo1 <span class="token keyword">with</span> TraitDemo1_1 <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> println<span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>
<span class="token keyword">object</span> Test_Trait<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> teacher_2 <span class="token operator">=</span> <span class="token keyword">new</span> Teacher_2
    teacher_2<span class="token punctuation">.</span>say_hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 特质叠加第二种情况</span>
<span class="token comment">// 一个类（Sub）混入的两个trait（TraitA，TraitB）中具有相同的具体方法，且两个trait继承自相同的trait（TraitC），及所谓的“钻石问题”，解决这类冲突问题，Scala采用了特质叠加的策略。</span>
<span class="token keyword">trait</span> TraitDemo2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;父类特质&quot;</span>

<span class="token punctuation">}</span>

<span class="token keyword">trait</span> TraitDemo2_1 <span class="token keyword">extends</span> TraitDemo2 <span class="token punctuation">{</span>
  <span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;TraitDemo2_1&quot;</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token keyword">trait</span> TraitDemo2_2 <span class="token keyword">extends</span> TraitDemo2 <span class="token punctuation">{</span>
  <span class="token keyword">var</span> sex<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;TraitDemo2_2&quot;</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> sex <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span>

<span class="token comment">// 继承两种特质</span>
<span class="token keyword">class</span> TraitDemo2_Final <span class="token keyword">extends</span> TraitDemo2_2 <span class="token keyword">with</span> TraitDemo2_1 <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;TraitDemo2_Final&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Test_Trait2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> traitDemo2 <span class="token operator">=</span> <span class="token keyword">new</span> TraitDemo2_Final<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>traitDemo2<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//TraitDemo2_Final_TraitDemo2_1_TraitDemo2_2_父类特质</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></li> <li><p>特质叠加执行顺序</p> <p><img src="/blog/Hadoop%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB.assets/image-20220927142725519.png" alt="image-20220927142725519"></p> <blockquote><p>如果想要调用某个指定的混入特质中的方法，可以增加约束：super[]，例如super[Category].describe()。</p></blockquote></li> <li><p>特质自身类型</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">javafx<span class="token punctuation">.</span>collections<span class="token punctuation">.</span></span>ObservableSet
<span class="token comment">//特征自身类型，表示自己的子类型也必须是相应的类型</span>
<span class="token comment">//产生的效果相当于继承或者混入(mixin)</span>
<span class="token comment">// 特质自身类型,只能混入某个类</span>
<span class="token comment">// 这里要使用成员属性 var 定义</span>

<span class="token comment">//定义User类，作为trait的自身类型</span>
<span class="token keyword">class</span> User<span class="token punctuation">(</span><span class="token keyword">var</span> name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token keyword">var</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token comment">//定义一个特质，跟数据库打交道，增删改查</span>
<span class="token keyword">trait</span> UserDao <span class="token punctuation">{</span>
  <span class="token comment">// User 代表 trait的自身类型</span>
  <span class="token keyword">this</span><span class="token operator">:</span> User <span class="token keyword">=&gt;</span>
  <span class="token comment">//定义插入数据方法</span>
  <span class="token keyword">def</span> insert<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;insert into db :&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> MyUser<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> User<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token keyword">with</span> UserDao

<span class="token keyword">object</span> TraitDemo3 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> user <span class="token operator">=</span> <span class="token keyword">new</span> MyUser<span class="token punctuation">(</span><span class="token string">&quot;f1&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
    user<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li> <li><p>特质和抽象类的区别</p> <p>优先使用特质。一个类扩展多个特质是很方便的，但却只能扩展一个抽象类。</p> <p>如果你需要构造函数参数，使用抽象类。因为抽象类可以定义带参数的构造函数，而特质不行（有无参构造）。</p></li></ul> <h3 id="_8-3-7-扩展"><a href="#_8-3-7-扩展" class="header-anchor">#</a> 8.3.7  扩展</h3> <ul><li><p>类型检查和转换</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">//类型检查和转换</span>
<span class="token comment">//（1）obj.isInstanceOf[T]：判断obj是不是T类型。</span>
<span class="token comment">//</span>
<span class="token comment">//（2）obj.asInstanceOf[T]：将obj强转成T类型。</span>
<span class="token comment">//</span>
<span class="token comment">//（3）classOf获取对象的类名。</span>
<span class="token keyword">class</span> ObjectDemo7 <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token keyword">class</span> ObjectDemo77<span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token keyword">object</span> ObjectDemo7<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> objectDemo7 <span class="token operator">=</span> <span class="token keyword">new</span> ObjectDemo7<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> objectDemo77 <span class="token operator">=</span> <span class="token keyword">new</span> ObjectDemo77<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// isInstanceOf 判断对象是否为某个类型的实例</span>
    <span class="token keyword">var</span> bool<span class="token operator">:</span><span class="token builtin">Boolean</span> <span class="token operator">=</span> objectDemo7<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span>ObjectDemo7<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// asInstanceOf 将对象转换成某个类型的实例</span>
      <span class="token keyword">var</span> p1<span class="token operator">:</span>ObjectDemo7 <span class="token operator">=</span>  objectDemo7<span class="token punctuation">.</span>asInstanceOf<span class="token punctuation">[</span>ObjectDemo7<span class="token punctuation">]</span>
      println<span class="token punctuation">(</span>p1<span class="token punctuation">)</span>
      <span class="token comment">// classOf 获取类的信息</span>
      <span class="token keyword">var</span> pClass<span class="token operator">:</span>Class<span class="token punctuation">[</span>ObjectDemo7<span class="token punctuation">]</span> <span class="token operator">=</span> classOf<span class="token punctuation">[</span>ObjectDemo7<span class="token punctuation">]</span>
      println<span class="token punctuation">(</span>pClass<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li> <li><p>枚举类和应用类</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 枚举类</span>
<span class="token comment">// 继承类</span>

<span class="token keyword">object</span> ObjectDemo8<span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>ColorEm<span class="token punctuation">.</span>RED<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>ColorEm<span class="token punctuation">.</span>values<span class="token punctuation">)</span>
    <span class="token comment">// type 给类型起别名</span>
    <span class="token keyword">type</span> I <span class="token operator">=</span> <span class="token builtin">Int</span>
    <span class="token keyword">var</span> age<span class="token operator">:</span>I <span class="token operator">=</span> <span class="token number">10</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 枚举类</span>
<span class="token keyword">object</span> ColorEm <span class="token keyword">extends</span> Enumeration<span class="token punctuation">{</span>
  <span class="token keyword">val</span> RED <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> YELLOW <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;YELLOW&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">val</span> BLUE <span class="token operator">=</span> Value<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;BLUE&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 应用类 可以直接执行  object他继承了App类，没有写main方法，但是可以生产运行，这是由于App类是Scala自己提供的一个类，它的作用是当object继承它时，不需要写main方法，而是将整个的类看做一个main方法, 可以直接运行</span>
<span class="token keyword">object</span> TestApp <span class="token keyword">extends</span> App <span class="token punctuation">{</span>
  println<span class="token punctuation">(</span><span class="token string">&quot;xxxx&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li> <li><p>Type定义新类型</p></li></ul> <h2 id="_8-4-scala异常"><a href="#_8-4-scala异常" class="header-anchor">#</a> 8.4  Scala异常</h2> <ul><li><p>抛出异常</p></li> <li><p>声明异常</p></li> <li><p>捕获异常</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> ExceptionDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 抛出异常</span>
    <span class="token keyword">def</span> test<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Nothing</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> Exception<span class="token punctuation">(</span><span class="token string">&quot;erro&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 声明异常</span>
    <span class="token annotation punctuation">@throws</span><span class="token punctuation">(</span>classOf<span class="token punctuation">[</span>NumberFormatException<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">def</span> f11<span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;abc&quot;</span><span class="token punctuation">.</span>toInt
    <span class="token punctuation">}</span>
    <span class="token comment">// 捕获异常</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> a <span class="token operator">=</span> <span class="token number">22</span> <span class="token operator">/</span> <span class="token number">0</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> e<span class="token operator">:</span> ArithmeticException <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;算术异常&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span> <span class="token comment">//算术异常</span>
      <span class="token keyword">case</span> e<span class="token operator">:</span> Exception <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        println<span class="token punctuation">(</span><span class="token string">&quot;其他异常&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;运行结束&quot;</span><span class="token punctuation">)</span>

    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div></li></ul> <h2 id="_8-5-scala集合"><a href="#_8-5-scala集合" class="header-anchor">#</a> 8.5 Scala集合</h2> <h3 id="_8-5-1-集合简介"><a href="#_8-5-1-集合简介" class="header-anchor">#</a> 8.5.1 集合简介</h3> <ul><li><p>集合体系</p> <p><img src="/blog/Hadoop%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB.assets/image-20220928142034226.png" alt="image-20220928142034226"></p></li> <li><p>集合介绍</p> <p>1）Scala的集合有三大类：序列Seq、集Set、映射Map，所有的集合都扩展自Iterable特质。</p> <p>2）对于几乎所有的集合类，Scala都同时提供了可变和不可变的版本，分别位于以下两个包</p> <p>不可变集合：scala.collection.immutable</p> <p>可变集合： scala.collection.mutable</p> <p>3）Scala不可变集合，就是指该集合对象不可修改，每次修改就会返回一个新对象，而不会对原对象进行修改。类似于java中的String对象</p> <p>4）可变集合，就是这个集合可以直接对原对象进行修改，而不会返回新的对象。类似于java中StringBuilder对象</p> <blockquote><p><strong>建议：在操作集合的时候，不可变用符号，可变用方法</strong></p></blockquote></li> <li><p>不可变集合</p> <p><img src="/blog/Hadoop%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB.assets/image-20220927145333398.png" alt="image-20220927145333398"></p></li> <li><p>可变集合</p> <p><img src="/blog/Hadoop%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB.assets/image-20220927145456860.png" alt="image-20220927145456860"></p></li> <li><p>常见实现类</p> <p>集合的顶层特质是Iterable，Iterable特质下面还有一些子接口，Set、Seq、Map</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>set下面有HashSet、LinkedHashSet、SortedSet等等
seq下面有List、Buffer、Range等等
Map下面有HashMap、SortedMap、LinkedHashMap等等
其中Buffer下面还有两个常用的，ArrayBuffer、ListBuffer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h3 id="_8-5-2-数组"><a href="#_8-5-2-数组" class="header-anchor">#</a> 8.5.2 数组</h3> <ul><li><p>不可变数组</p> <p>Scala不可变集合，就是指该集合对象不可修改，每次修改就会返回一个新对象，而不会对原对象进行修改。</p></li> <li><p>可变数组</p> <p>scala 可变集合 集合可以直接对原对象进行修改，而不会返回新的对象。</p></li> <li><p>数组转换</p> <p>toArray：<strong>可变数组转不可变数组</strong></p> <p>toBuffer：<strong>不可变数组转可变数组</strong></p></li> <li><p>多维数组</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">chapter66</span>

<span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>ArrayBuffer

<span class="token comment">// 集合</span>
<span class="token comment">// 不可变 建议使用符号操作 集合</span>
<span class="token comment">// 可变使用方法</span>
<span class="token keyword">object</span> CollectionDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不可变数组 数组长度不变</span>
    <span class="token comment">// 1.定义数组</span>
    <span class="token keyword">var</span> array1 <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>  <span class="token comment">// 底层调用 apply</span>
    <span class="token keyword">var</span> array2 <span class="token operator">=</span> <span class="token keyword">new</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>array1<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 2.数组赋值</span>
    array2<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1</span>
    array2<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    array2<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
    array2<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
    array2<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
    <span class="token comment">//    array2.update(5,6)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;输出数组 =&quot;</span> <span class="token operator">+</span> array2<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;数组的长度 = &quot;</span> <span class="token operator">+</span> array2<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token comment">// 3. 数组遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> array1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    array2<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 4.增加元素</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;array1 增加元素前 &quot;</span> <span class="token operator">+</span> array1<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> ints<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> array1 <span class="token operator">:</span><span class="token operator">+</span> <span class="token number">6</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;增加后的数组 =&quot;</span> <span class="token operator">+</span> ints<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====不可变数组======&quot;</span><span class="token punctuation">)</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;array2 增加元素前 &quot;</span> <span class="token operator">+</span> array2<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> ints2<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">+</span><span class="token operator">:</span> array2
    println<span class="token punctuation">(</span><span class="token string">&quot;增加后数组 =&quot;</span> <span class="token operator">+</span> ints2<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 可变数组</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;=====可变数组=======&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 可变数组定义</span>
    <span class="token keyword">var</span> array3 <span class="token operator">=</span> ArrayBuffer<span class="token punctuation">[</span><span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>array3<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 可变数组增加元素的方法 .+ append 建议使用 append</span>
    array3<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
    array3<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>array3<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    array3<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1</span>
    println<span class="token punctuation">(</span>array3<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 可变数组的遍历</span>
    array3<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
    array3<span class="token punctuation">.</span>hashCode<span class="token punctuation">(</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====可变数组与不可变数组之间的转换======&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// toArray 可变=&gt;不可变 toBuffer 不可变=&gt;可变</span>
    <span class="token keyword">var</span> array1_new <span class="token operator">=</span> array3<span class="token punctuation">.</span>toArray
    <span class="token keyword">var</span> array3_new <span class="token operator">=</span> array1<span class="token punctuation">.</span>toBuffer
    println<span class="token punctuation">(</span>array1_new<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>array3_new<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 数组遍历</span>
    array3_new<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    <span class="token comment">// 多维数据</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====多维数组====&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 定义一个数组 类似 ((0,0,0),(0,0,66),(0,0,0),(0,0,0),(0,0,0))</span>
    <span class="token keyword">var</span> dim_arr <span class="token operator">=</span> Array<span class="token punctuation">.</span>ofDim<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
    dim_arr<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">66</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;多维数组arr =&quot;</span><span class="token operator">+</span>dim_arr<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [[I@3567135c</span>
    <span class="token comment">// 遍历二维数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> dim_arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// i就是一堆数组</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token keyword">&lt;-</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        println<span class="token punctuation">(</span>j <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      println<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br></div></div></li></ul> <h3 id="_8-5-3-元组"><a href="#_8-5-3-元组" class="header-anchor">#</a> 8.5.3 元组</h3> <ul><li><p>元组概念</p> <p>元组也是可以理解为一个容器，可以存放各种相同或不同类型的数据。说的简单点，就是将多个无关的数据封装为一个整体，称为元组。</p> <blockquote><p>注意元组 最大只能有22个元素</p></blockquote></li> <li><p>案例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 元组，可以存放各种相同或不同类型的数据</span>
<span class="token keyword">object</span> CollectionDemo4 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//声明元组的方式：（元素1，元素2，元素3）</span>
    <span class="token keyword">val</span> tuple<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Boolean</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;bobo&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>

    <span class="token comment">//访问元组</span>
    <span class="token comment">//通过元素的顺序进行访问，调用方式:_顺序号</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>

    <span class="token comment">//通过索引访问数据</span>
    println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>productElement<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//通过迭代器访问数据</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====通过迭代器访问数据=====&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>e <span class="token keyword">&lt;-</span> tuple<span class="token punctuation">.</span>productIterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Map中的键值对其实就是元组，只不过元组的元素个数为2，称之为对偶.每一对 key value 为元组</span>
    <span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> map1 <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    map<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>tuple <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1 <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> tuple<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    map1<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>tuple <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 遍历元组</span>
    map1<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>tuple<span class="token keyword">=&gt;</span>println<span class="token punctuation">(</span>tuple<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 元组复制</span>
    println<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span>


  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></li></ul> <h3 id="_8-5-4-set集合"><a href="#_8-5-4-set集合" class="header-anchor">#</a> 8.5.4 Set集合</h3> <ul><li><p>概念</p> <p>Set代表一个没有重复元素的集合。Set集合分为可变和不可变集合。默认情况下使用的是不可变集合。</p></li> <li><p>不可变Set</p></li> <li><p>可变mutable.Set</p></li> <li><p>Set常见子类</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>HashSet：这个集合的特点是：集合中的元素不重复、无序
LinkedHashSet：这个集合的特点是：集合中的元素不重复、有序，它会用一个链表维护插入顺序，可以保证集合中元素是有序的
SortedSet：这个集合的特点是：集合中的元素不重复、有序，它会自动根据元素来进行排序。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable</span>

<span class="token comment">// Set 数据不重复，存放相同类型的数据</span>
<span class="token keyword">object</span> CollectionDemo2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不可变 Set(默认) 无序不重复序列</span>
    <span class="token comment">// 1.创建Set</span>
    <span class="token keyword">val</span> set<span class="token operator">:</span> Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token comment">// 2.Set添加元素</span>
    <span class="token keyword">var</span> set1<span class="token operator">:</span> Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> set <span class="token operator">+</span> <span class="token number">4</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;set1 =&quot;</span> <span class="token operator">+</span> set1<span class="token punctuation">)</span> <span class="token comment">// Set(1, 2, 3, 4)</span>
    <span class="token keyword">var</span> set2<span class="token operator">:</span> Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> set <span class="token operator">+</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token number">6</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;set2 =&quot;</span> <span class="token operator">+</span> set2<span class="token punctuation">)</span> <span class="token comment">// Set(5, 1, 6, 2, 3)</span>
    <span class="token comment">// 3.Set 删除元素</span>
    <span class="token keyword">var</span> set3<span class="token operator">:</span> Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> set2 <span class="token operator">-</span> <span class="token number">6</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;set3 =&quot;</span> <span class="token operator">+</span> set3<span class="token punctuation">)</span> <span class="token comment">// Set(5, 1, 2, 3)</span>

    <span class="token comment">// 3.Set合并</span>
    <span class="token keyword">var</span> set4<span class="token operator">:</span> Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> set1 <span class="token operator">++</span> set2 <span class="token operator">++</span> set3
    println<span class="token punctuation">(</span><span class="token string">&quot;set4 =&quot;</span> <span class="token operator">+</span> set4<span class="token punctuation">)</span>
    <span class="token comment">// 4.Set遍历</span>
    set4<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>

    <span class="token comment">// 可变 Set</span>
    <span class="token comment">// 1.创建可变Set</span>
    <span class="token keyword">var</span> setBuffer <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> setBuffer_1 <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token comment">// 2.集合添加元素</span>
    setBuffer<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    setBuffer<span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;setBuffer =&quot;</span> <span class="token operator">+</span> setBuffer<span class="token punctuation">)</span>
    <span class="token comment">// 3.集合添加元素 返回一个新的set</span>
    <span class="token keyword">var</span> setBuffer_2<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> setBuffer_1<span class="token punctuation">.</span>+<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;setBuffer_2 =&quot;</span> <span class="token operator">+</span> setBuffer_2<span class="token punctuation">)</span> <span class="token comment">// setBuffer_2 =Set(5, 6, 8)</span>
    <span class="token comment">// 4.删除数据</span>
    setBuffer_2 <span class="token operator">-=</span> <span class="token number">6</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;setBuffer_2 =&quot;</span> <span class="token operator">+</span> setBuffer_2<span class="token punctuation">)</span> <span class="token comment">// setBuffer_2 =Set(5, 8)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;删除前 setBuffer_1 =&quot;</span> <span class="token operator">+</span> setBuffer_1<span class="token punctuation">)</span> <span class="token comment">// 删除前 setBuffer_1 =Set(5, 6)</span>
    setBuffer_1<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;删除后 setBuffer_1 =&quot;</span> <span class="token operator">+</span> setBuffer_1<span class="token punctuation">)</span> <span class="token comment">// 删除后 setBuffer_1 =Set(6)</span>
    <span class="token comment">// 5.合并两个set</span>
    <span class="token keyword">var</span> set_add<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> setBuffer <span class="token operator">++</span> setBuffer_1
    println<span class="token punctuation">(</span><span class="token string">&quot;set_add =&quot;</span> <span class="token operator">+</span> set_add<span class="token punctuation">)</span>
    <span class="token comment">// 6.set 取并集</span>
    <span class="token keyword">var</span> set11<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> set22<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Set<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>set11<span class="token punctuation">.</span>union<span class="token punctuation">(</span>set22<span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div></li></ul> <h3 id="_8-5-5-seq集合"><a href="#_8-5-5-seq集合" class="header-anchor">#</a> 8.5.5 Seq集合</h3> <ul><li><p>不可变List</p></li> <li><p>可变ListBuffer</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable<span class="token punctuation">.</span></span>ListBuffer

<span class="token comment">// Seq 集合(List)</span>
<span class="token keyword">object</span> CollectionDemo1 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 不可变List</span>
    <span class="token comment">// 创建list</span>
    <span class="token keyword">var</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment">// 底层伴生对象 实现了 apply 方法 所以可以直接这样定义 等效于 List.apply()</span>
<span class="token comment">//    println(&quot;list =&quot;+list)</span>
    <span class="token comment">// 遍历 List</span>
    list<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>

    <span class="token comment">// List 末尾增加数据 首加7 末尾加6</span>
    <span class="token keyword">var</span> list1<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token operator">+</span><span class="token operator">:</span><span class="token punctuation">(</span>list <span class="token operator">:</span><span class="token operator">+</span> <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> list2<span class="token operator">:</span>List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">7</span><span class="token operator">::</span><span class="token number">6</span><span class="token operator">::</span>list

    println<span class="token punctuation">(</span><span class="token string">&quot;list1 &quot;</span><span class="token operator">+</span>list1<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;list2 &quot;</span><span class="token operator">+</span>list2<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 增加到第一个元素位置</span>
    <span class="token comment">// List合并 :::</span>
    <span class="token keyword">var</span> list3<span class="token operator">:</span>List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> list1 <span class="token operator">::</span><span class="token operator">:</span> list2
    println<span class="token punctuation">(</span><span class="token string">&quot;list3 &quot;</span><span class="token operator">+</span>list3<span class="token punctuation">)</span>
    <span class="token comment">// 取出指定的数据</span>
    println<span class="token punctuation">(</span>list3<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 可变 ListBuffer 可变建议使用方法</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====可变ListBuffer=====&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> listBuffer<span class="token operator">:</span>ListBuffer<span class="token punctuation">[</span><span class="token builtin">Any</span><span class="token punctuation">]</span> <span class="token operator">=</span> ListBuffer<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token comment">// 增加数据</span>
    listBuffer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;listBuffer =&quot;</span><span class="token operator">+</span>listBuffer<span class="token punctuation">)</span> <span class="token comment">// listBuffer =ListBuffer(1, 2, 3, 4, 5)</span>
    listBuffer<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;listBuffer =&quot;</span><span class="token operator">+</span>listBuffer<span class="token punctuation">)</span> <span class="token comment">// listBuffer =ListBuffer(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</span>
    <span class="token comment">// 插入数据</span>
    listBuffer<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;listBuffer =&quot;</span><span class="token operator">+</span>listBuffer<span class="token punctuation">)</span> <span class="token comment">// listBuffer =ListBuffer(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</span>
    <span class="token comment">// ListBuffer 更新数据</span>
    listBuffer<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;listBuffer =&quot;</span><span class="token operator">+</span>listBuffer<span class="token punctuation">)</span> <span class="token comment">// listBuffer =ListBuffer(100, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</span>
    <span class="token comment">// ListBuffer 移除指定索引的数据</span>
    listBuffer<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token comment">// ListBuffer 遍历数据</span>
    listBuffer<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>



  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div></li></ul> <h3 id="_8-5-6-map集合"><a href="#_8-5-6-map集合" class="header-anchor">#</a> 8.5.6 Map集合</h3> <ul><li><p>概念</p> <p>Map是一种可迭代的键值对(key、value)结构，Map分为可变和不可变，默认情况下使用的是不可变Map。</p></li> <li><p>不可变Map</p></li> <li><p>可变Map</p></li> <li><p>Map常见子类</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>HashMap：是一个按照key的hash值进行排列存储的map
SortedMap：可以自动对Map中的key进行排序【有序的map】
LinkedHashMap：可以记住插入的key-value的顺序
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable</span>


<span class="token comment">// map 无序散列表 key 不能重复</span>

<span class="token keyword">object</span> CollectionDemo3 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建不可变 map</span>
    <span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;map =&quot;</span> <span class="token operator">+</span> map<span class="token punctuation">)</span>
    <span class="token comment">// 遍历map</span>
    map<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    map<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span><span class="token punctuation">(</span>kv<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span>kv<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> map<span class="token punctuation">.</span>keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;value &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span>get<span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 使用模式匹配进行 map 遍历</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====使用模式匹配进行 map 遍历========&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span>v<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map<span class="token punctuation">)</span><span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//访问具体的数据 使用get访问map集合的数据，会返回特殊类型Option(选项)：有值（Some），无值（None）</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;key a =&quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">)</span>
    <span class="token comment">// getOrElse 如果值不存在 返回 0</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;key d =&quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// key d =None</span>

    <span class="token comment">// 创建可变map</span>
    <span class="token comment">//    val map_Buffer = mutable.Map(&quot;a&quot;-&gt;1,&quot;b&quot;-&gt;2)</span>
    <span class="token comment">// 创建一个空的 map</span>
    <span class="token keyword">val</span> map_Buffer<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 增加数据 4种方式 推荐使用 put</span>
    map_Buffer<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>+<span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">(</span><span class="token string">&quot;z&quot;</span><span class="token punctuation">)</span> <span class="token operator">=</span> map_Buffer<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token string">&quot;z&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;map_Buffer =&quot;</span> <span class="token operator">+</span> map_Buffer<span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;map_Buffer =&quot;</span> <span class="token operator">+</span> map_Buffer<span class="token punctuation">)</span>
    <span class="token comment">// 获取数据 建议使用 getOrElse() 获取数据</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;map_Buffer e =&quot;</span> <span class="token operator">+</span> map_Buffer<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;map_Buffer e =&quot;</span> <span class="token operator">+</span> map_Buffer<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 删除数据 两种 方法 推荐使用 remove</span>
    map_Buffer<span class="token punctuation">.</span>-<span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>map_Buffer<span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>remove<span class="token punctuation">(</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>map_Buffer<span class="token punctuation">)</span>
    <span class="token comment">// 修改数据</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;======修改数据=====&quot;</span><span class="token punctuation">)</span>
    map_Buffer<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>map_Buffer<span class="token punctuation">)</span>
    <span class="token comment">// map 转 List</span>
    println<span class="token punctuation">(</span>map_Buffer<span class="token punctuation">.</span>toList<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div></li></ul> <h3 id="_8-5-7-集合常用函数"><a href="#_8-5-7-集合常用函数" class="header-anchor">#</a> 8.5.7 集合常用函数</h3> <ul><li><p>基本属性和常用操作</p></li> <li><p>衍生集合</p></li> <li><p>集合计算初级函数</p></li> <li><p>集合计算高级函数</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable</span>
<span class="token comment">// 集合的基本操作</span>

<span class="token keyword">object</span> CollectionDemo5 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> list1 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> list2 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
    <span class="token comment">// 获取集合的长度 list.length</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;集合list1的长度为 &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
    <span class="token comment">// 获取集合的大小 list.size</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;集合list1的大小为 &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
    <span class="token comment">// 循环遍历 foreach</span>
    list1<span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    <span class="token comment">// 迭代器 list.iterator</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">&lt;-</span> list1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>ele <span class="token keyword">&lt;-</span> list1<span class="token punctuation">.</span>iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;ele =&quot;</span> <span class="token operator">+</span> ele<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 生成字符串 mkString</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;生成字符串 mkString=&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>mkString<span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 是否包含 contains</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;是否包含 contains =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>contains<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 获取集合的头 list.head</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;获取集合的头 list.head &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>head<span class="token punctuation">)</span>
    <span class="token comment">// 获取集合的尾 last</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;获取集合的头 list.last &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>last<span class="token punctuation">)</span>
    <span class="token comment">// 集合的最后一个元素 tail(除集合第一个元素外的以外元素)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;除集合第一个元素外的以外元素 &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>tail<span class="token punctuation">)</span>
    <span class="token comment">// 集合数据（不包含最后一个） list.innit</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;不包含最后一个集合数据 &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>init<span class="token punctuation">)</span>
    <span class="token comment">// 反转 list.reverse 返回一个新的集合对象</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;反转 list.reverse 返回一个新的集合对象 &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>reverse<span class="token punctuation">)</span>


    <span class="token comment">// 取前（后）n个元素 list.take(n)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;取前3个元素 = &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;取后三个元素 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>takeRight<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 去掉前（后）n个元素 list.drop</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;去除前3个元素 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;去除后三个元素&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>dropRight<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 并集 list.union(list1)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;集合的并集&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>union<span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 交集 list.intersect(list1)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;集合的交集 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>intersect<span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token comment">// 差集 list.diff(list1)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;集合的差集 =&quot;</span> <span class="token operator">+</span> list2<span class="token punctuation">.</span>diff<span class="token punctuation">(</span>list1<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 拉链 list.zip(list2)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;集合的拉链 = &quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>zip<span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 滑窗 list1.sliding(2, 5).foreach(println) list1.sliding(n,m), n 为每个集合的元素个数 m 为 相较上一个集合第一个元素位移的大小</span>
    list1<span class="token punctuation">.</span>sliding<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>println<span class="token punctuation">)</span>
    <span class="token comment">// 求和 sum</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;求和 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>sum<span class="token punctuation">)</span>
    <span class="token comment">// 求乘积 product</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;求乘积 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>product<span class="token punctuation">)</span>
    <span class="token comment">// 最大值 max</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;最大值 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>max<span class="token punctuation">)</span>
    <span class="token comment">// 最小值 min</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;最小值 =&quot;</span> <span class="token operator">+</span> list1<span class="token punctuation">.</span>min<span class="token punctuation">)</span>
    <span class="token comment">// 排序 sortBy 对一个属性或者多个属性进行排序</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;降序排序 =&quot;</span><span class="token operator">+</span>list1<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token punctuation">)</span><span class="token punctuation">.</span>reverse<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;升序排序 =&quot;</span><span class="token operator">+</span>list1<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> list3 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;绝对值大小排序 &quot;</span><span class="token operator">+</span>list3<span class="token punctuation">.</span>sortBy<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token punctuation">.</span>abs<span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// sortWith 基于函数的排序，通过一个comparator函数，实现自定义排序的逻辑。</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;升序排序 &quot;</span><span class="token operator">+</span>list3<span class="token punctuation">.</span>sortWith<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token keyword">=&gt;</span>x<span class="token operator">&lt;</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;降序排序 &quot;</span><span class="token operator">+</span>list3<span class="token punctuation">.</span>sortWith<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token keyword">=&gt;</span>x<span class="token operator">&gt;</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token comment">// 过滤 filter</span>
    <span class="token keyword">var</span> list4 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;过滤 filter = &quot;</span><span class="token operator">+</span> list4<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 转化 map</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;转换 amp = &quot;</span><span class="token operator">+</span> list4<span class="token punctuation">.</span>map<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 扁平化 flatten</span>
    <span class="token keyword">var</span> nestList <span class="token operator">=</span> List<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>List<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>List<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;扁平化 &quot;</span><span class="token operator">+</span>nestList<span class="token punctuation">.</span>flatten<span class="token punctuation">)</span>
    <span class="token comment">// 扁平化加映射</span>
    <span class="token keyword">var</span> wordList <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token string">&quot;hello world&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello scala&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello Java&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>wordList<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 分组 groupBy</span>
    println<span class="token punctuation">(</span>list4<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>x<span class="token keyword">=&gt;</span>x<span class="token operator">%</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 简化 reduce 底层调用 reduceLeft() 方法</span>
    <span class="token keyword">var</span> list5 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list5<span class="token punctuation">.</span>reduce<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token keyword">=&gt;</span>x<span class="token operator">+</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 折叠 fold</span>
    <span class="token keyword">var</span> list6 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list6<span class="token punctuation">.</span>fold<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token keyword">=&gt;</span>x<span class="token operator">+</span>y<span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//    两个Map的数据合并</span>
    <span class="token keyword">val</span> map1 <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> map2 <span class="token operator">=</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&quot;d&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">6</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> map3<span class="token operator">:</span> mutable<span class="token punctuation">.</span>Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> map2<span class="token punctuation">.</span>foldLeft<span class="token punctuation">(</span>map1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 这里的形参 map 指的是 map1</span>
      <span class="token punctuation">(</span>map<span class="token punctuation">,</span> kv<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> k <span class="token operator">=</span> kv<span class="token punctuation">.</span>_1
<span class="token comment">//        println(&quot;map =&quot;+map)</span>
<span class="token comment">//        print(&quot;k =&quot;+k)</span>
        <span class="token keyword">val</span> v <span class="token operator">=</span> kv<span class="token punctuation">.</span>_2
<span class="token comment">//        println(&quot;v = &quot;+v)</span>
        map<span class="token punctuation">(</span>k<span class="token punctuation">)</span> <span class="token operator">=</span> map<span class="token punctuation">.</span>getOrElse<span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">+</span> v
        map
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;map3 =&quot;</span><span class="token operator">+</span>map3<span class="token punctuation">)</span>




  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div></li></ul> <h3 id="_8-5-8-wordcount"><a href="#_8-5-8-wordcount" class="header-anchor">#</a> 8.5.8 WordCount</h3> <ul><li><p>案例一</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// wordCount 例子</span>
<span class="token keyword">object</span> CollectionDemo6 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//    单词计数：将集合中出现的相同的单词，进行 计数，取计数排名前三的结果</span>
    <span class="token keyword">val</span> stringList <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Hbase kafka&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello Scala Hbase&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello Scala&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">//    1.将每一个字符串转换成一个一个单词</span>
    <span class="token keyword">val</span> wordList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringList<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>str <span class="token keyword">=&gt;</span> str<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;wordList = &quot;</span><span class="token operator">+</span>wordList<span class="token punctuation">)</span>

    <span class="token comment">//    2.将相同的单词放置在一起</span>
    <span class="token keyword">val</span> wordToWordsMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordList<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>word <span class="token keyword">=&gt;</span> word<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;wordToWordsMap =&quot;</span><span class="token operator">+</span>wordToWordsMap<span class="token punctuation">)</span>

    <span class="token comment">//    3.对相同的单词进行计数</span>
    <span class="token keyword">val</span> wordToCountMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToWordsMap<span class="token punctuation">.</span>map<span class="token punctuation">(</span>tuple <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>tuple<span class="token punctuation">.</span>_1<span class="token punctuation">,</span> tuple<span class="token punctuation">.</span>_2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;wordToCountMap =&quot;</span><span class="token operator">+</span>wordToCountMap<span class="token punctuation">)</span>

    <span class="token comment">//    4.对计数完成的结果进行排序(降序)</span>
    <span class="token keyword">val</span> sortList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToCountMap<span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortWith <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        left<span class="token punctuation">.</span>_2 <span class="token operator">&gt;</span> right<span class="token punctuation">.</span>_2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;sortList =&quot;</span><span class="token operator">+</span> sortList<span class="token punctuation">)</span>

    <span class="token comment">//    5.对排序后的结果取前3名</span>
    <span class="token keyword">val</span> resultList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> sortList<span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;resultList =&quot;</span><span class="token operator">+</span>resultList<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></li> <li><p>案例二</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// worldCount 2</span>
<span class="token keyword">object</span> CollectionDemo7 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">//    第一种方式（不通用）</span>
    <span class="token keyword">val</span> tupleList <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark Word&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> stringList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> tupleList<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1 <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span> <span class="token operator">*</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;tupleList =&quot;</span><span class="token operator">+</span>stringList<span class="token punctuation">)</span>

    <span class="token keyword">val</span> words<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringList<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;words = &quot;</span><span class="token operator">+</span>words<span class="token punctuation">)</span>

    <span class="token comment">//    在map中，如果传进来什么就返回什么，不要用 _ 省略</span>
    <span class="token keyword">val</span> groupMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> words<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>word <span class="token keyword">=&gt;</span> word<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;groupMap =&quot;</span><span class="token operator">+</span>groupMap<span class="token punctuation">)</span>
    <span class="token comment">//    val groupMap1: Map[String, List[String]] = words.groupBy(_)</span>

    <span class="token comment">//    (word, list) =&gt; (word, count)</span>
    <span class="token keyword">val</span> wordToCount<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> groupMap<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1<span class="token punctuation">,</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>wordToCount<span class="token punctuation">)</span>

    <span class="token keyword">val</span> wordCountList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToCount<span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortWith <span class="token punctuation">{</span>
      <span class="token punctuation">(</span>Left<span class="token punctuation">,</span> Right<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        Left<span class="token punctuation">.</span>_2 <span class="token operator">&lt;</span> Right<span class="token punctuation">.</span>_2
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>

    <span class="token comment">//    tupleList.map(t =&gt; (t._1 + &quot; &quot;) * t._2).flatMap(_.split(&quot; &quot;)).groupBy(word =&gt; word).map(t =&gt; (t._1, t._2.size))</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;wordCountList=&quot;</span><span class="token operator">+</span>wordCountList<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div></li> <li><p>案例三</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// worldCount3</span>
<span class="token keyword">object</span> CollectionDemo8 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> tuples <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark World&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala Spark&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello Scala&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// (Hello,4),(Scala,4),(Spark,4),(World,4)</span>
    <span class="token comment">// (Hello,3),(Scala,3),(Spark,3)</span>
    <span class="token comment">// (Hello,2),(Scala,2)</span>
    <span class="token comment">// (Hello,1)</span>

    <span class="token keyword">val</span> wordToCountList<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> tuples<span class="token punctuation">.</span>flatMap <span class="token punctuation">{</span>
      t <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> strings<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">.</span>_1<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span>
        strings<span class="token punctuation">.</span>map<span class="token punctuation">(</span>word <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;wordToCountList &quot;</span><span class="token operator">+</span>wordToCountList<span class="token punctuation">)</span>

    <span class="token comment">// Hello, List((Hello,4), (Hello,3), (Hello,2), (Hello,1))</span>
    <span class="token comment">// Scala, List((Scala,4), (Scala,3), (Scala,2)</span>
    <span class="token comment">// Spark, List((Spark,4), (Spark,3)</span>
    <span class="token comment">// Word, List((Word,4))</span>

    <span class="token keyword">val</span> wordToTupleMap<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToCountList<span class="token punctuation">.</span>groupBy<span class="token punctuation">(</span>t <span class="token keyword">=&gt;</span> t<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;wordToTupleMap =&quot;</span><span class="token operator">+</span>wordToTupleMap<span class="token punctuation">)</span>

    <span class="token keyword">val</span> stringToInts<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> wordToTupleMap<span class="token punctuation">.</span>mapValues <span class="token punctuation">{</span>
      datas <span class="token keyword">=&gt;</span>
        datas<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t <span class="token keyword">=&gt;</span> t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;stringToInts =&quot;</span><span class="token operator">+</span>stringToInts<span class="token punctuation">)</span>
    <span class="token keyword">val</span> wordToCount<span class="token operator">:</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> stringToInts<span class="token punctuation">.</span>map<span class="token punctuation">(</span>t <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>_1<span class="token punctuation">,</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>_2<span class="token punctuation">)</span><span class="token punctuation">.</span>sum<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;wordToCount &quot;</span><span class="token operator">+</span>wordToCount<span class="token punctuation">.</span>toList<span class="token punctuation">.</span>sortWith<span class="token punctuation">(</span> <span class="token punctuation">(</span>Left<span class="token punctuation">,</span> Right<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">{</span>
      Left<span class="token punctuation">.</span>_2 <span class="token operator">&gt;</span> Right<span class="token punctuation">.</span>_2
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


    <span class="token comment">/*    val wordToCountmap: Map[String, List[Int]] = wordToTupleMap.map {
        t =&gt; {
          (t._1, t._2.map(t1 =&gt; t1._2))
        }
      }

      val wordToTotalCountMap: Map[String, Int] = wordToCountmap.map(t =&gt; (t._1, t._2.sum))
      println(wordToTotalCountMap)*/</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div></li></ul> <h3 id="_8-5-9-队列"><a href="#_8-5-9-队列" class="header-anchor">#</a> 8.5.9 队列</h3> <ul><li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">scala<span class="token punctuation">.</span>collection<span class="token punctuation">.</span>mutable</span>

<span class="token comment">// 队列 先进先出</span>
<span class="token keyword">object</span> CollectionDemo9 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> que <span class="token operator">=</span> <span class="token keyword">new</span> mutable<span class="token punctuation">.</span>Queue<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 进队列</span>
    que<span class="token punctuation">.</span>enqueue<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 出队列</span>
    println<span class="token punctuation">(</span>que<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>que<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>que<span class="token punctuation">.</span>dequeue<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ul> <h3 id="_8-5-10-并行集合"><a href="#_8-5-10-并行集合" class="header-anchor">#</a> 8.5.10 并行集合</h3> <ul><li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">object</span> CollectionDemo10 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> result1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span> to <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map <span class="token punctuation">{</span> <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> Thread<span class="token punctuation">.</span>currentThread<span class="token punctuation">.</span>getName <span class="token punctuation">}</span>
    <span class="token keyword">val</span> result2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span> to <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">.</span>par<span class="token punctuation">.</span>map <span class="token punctuation">{</span> <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> Thread<span class="token punctuation">.</span>currentThread<span class="token punctuation">.</span>getName <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>result1<span class="token punctuation">)</span> <span class="token comment">//只有一个线程 串行</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;--------------------&quot;</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>result2<span class="token punctuation">)</span> <span class="token comment">//并行</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>


</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li></ul> <h3 id="_8-5-11-集合总结"><a href="#_8-5-11-集合总结" class="header-anchor">#</a> 8.5.11 集合总结</h3> <ul><li><p>可变集合</p> <p><code>LinkedHashSet</code>,<code>ListBuffer</code>,<code>ArrayBuffer</code>,<code>LinkedHashMap</code></p></li> <li><p>不可变集合</p> <p><code>List</code>,<code>SortedMap</code></p></li> <li><p>可变+不可变集合</p> <p><code>Set</code>,<code>HashSet</code>,<code>SortedSet</code>,<code>Map</code>,<code>HashMap</code></p></li> <li><p>编外数据结构</p> <ul><li><p>Array(数组)</p> <p>长度不可变，里面的元素可变</p></li> <li><p>Tuple(元组)</p> <p>长度不可变,里面的元素也不可变</p></li></ul></li></ul> <h2 id="_8-6-scala高级特性"><a href="#_8-6-scala高级特性" class="header-anchor">#</a> 8.6  Scala高级特性</h2> <h3 id="_8-6-1-模式匹配"><a href="#_8-6-1-模式匹配" class="header-anchor">#</a> 8.6.1 模式匹配</h3> <ul><li><p>概念</p> <p>模式匹配是Scala中非常有特色，非常强大的一种功能。模式匹配，其实类似于Java中的switch case语法，即对一个值进行条件判断，然后针对不同的条件，进行不同的处理。不过Scala没有Java中的switch case语法，但是，Scala提供了更加强大的match case语法，就是这个模式匹配。</p></li> <li><p>基本语法</p> <p>注意：match case中，只要一个case分支满足并处理了，就不会继续判断下一个case分支了，这一点与Java不同，java的switch case需要用break停止向下执行。</p></li> <li><p>常见的模式匹配类型</p> <ul><li><p>对变量的值进行模式匹配</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">def</span> demo1<span class="token punctuation">(</span>day<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  day <span class="token keyword">match</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">1</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;Monday&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token number">2</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;Tuesday&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">case</span> <span class="token number">3</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;Wednesday&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 如果值为下划线，则代表了不满足以上所有情况下的默认处理</span>
    <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>变量类型的模式匹配</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>_

<span class="token keyword">def</span> processException<span class="token punctuation">(</span>e<span class="token operator">:</span> Exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e <span class="token keyword">match</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> e1<span class="token operator">:</span> IllegalArgumentException <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;IllegalArgumentException  &quot;</span> <span class="token operator">+</span> e1<span class="token punctuation">)</span>
    <span class="token keyword">case</span> e2<span class="token operator">:</span> FileNotFoundException <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;FileNotFoundException  &quot;</span> <span class="token operator">+</span> e2<span class="token punctuation">)</span>
    <span class="token keyword">case</span> e3<span class="token operator">:</span> IOException <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;IOException &quot;</span> <span class="token operator">+</span> e3<span class="token punctuation">)</span>
    <span class="token keyword">case</span> _<span class="token operator">:</span> Exception <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;Exception &quot;</span> <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 模式匹配 在 try catch 中应用</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>  
  <span class="token keyword">val</span> lines02 <span class="token operator">=</span> scala<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>fromFile<span class="token punctuation">(</span><span class="token string">&quot;D://test02.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mkString
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">{</span>  
 <span class="token keyword">case</span> ex<span class="token operator">:</span> FileNotFoundException <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;no file&quot;</span><span class="token punctuation">)</span>
 <span class="token keyword">case</span> ex<span class="token operator">:</span> IOException <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;io exception&quot;</span><span class="token punctuation">)</span>
 <span class="token keyword">case</span> ex<span class="token operator">:</span> Exception <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;exception&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>模式匹配 在异常处理中的一个典型应用</p></blockquote></li> <li><p>case class 与模式匹配</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 使用 样例类 匹配对象</span>
<span class="token keyword">case</span> <span class="token keyword">class</span> User02<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> MathCaseDemo3 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> user <span class="token operator">=</span> User02<span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> user <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> User02<span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;yes&quot;</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;no&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li> <li><p>Option与模式匹配</p> <p>Scala有一种特殊的数据类型，叫做Option。Option有两种值，一种是Some，表示有值，一种是None，表示没有值 Option通常会用于模式匹配中，用于判断某个变量是有值还是没有值，这比null来的更加简洁明了。</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">val</span> ages <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">&quot;jack&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token string">&quot;tom&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&quot;jessic&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">27</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> getAge<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">val</span> age <span class="token operator">=</span> ages<span class="token punctuation">.</span>get<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  age <span class="token keyword">match</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> Some<span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;your age is &quot;</span> <span class="token operator">+</span> age<span class="token punctuation">)</span>
    <span class="token keyword">case</span> None <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul></li> <li><p>模式守卫</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">chapter77</span>

<span class="token comment">// 模式匹配 math case</span>
<span class="token keyword">object</span> MatchCaseDemo <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> a<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">10</span>
    <span class="token keyword">var</span> b<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token keyword">var</span> operator<span class="token operator">:</span> <span class="token builtin">Char</span> <span class="token operator">=</span> <span class="token char">'d'</span>
    <span class="token keyword">var</span> result <span class="token operator">=</span> operator <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token char">'+'</span> <span class="token keyword">=&gt;</span> a <span class="token operator">+</span> b
      <span class="token keyword">case</span> <span class="token char">'-'</span> <span class="token keyword">=&gt;</span> a <span class="token operator">-</span> b
      <span class="token keyword">case</span> <span class="token char">'*'</span> <span class="token keyword">=&gt;</span> a <span class="token operator">*</span> b
      <span class="token keyword">case</span> <span class="token char">'/'</span> <span class="token keyword">=&gt;</span> a <span class="token operator">/</span> b
      <span class="token comment">// default</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;illegal&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;result =&quot;</span><span class="token operator">+</span>result<span class="token punctuation">)</span>

    <span class="token comment">// 模式守卫</span>
    <span class="token keyword">def</span> abs<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">if</span> x <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token keyword">=&gt;</span> x
      <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">if</span> x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token keyword">=&gt;</span> <span class="token operator">-</span>x
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;type illegal&quot;</span>

    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>abs<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div></li> <li><p>模式匹配类型</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">chapter77</span>

<span class="token keyword">object</span> MatchCaseDemo1 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 匹配常量</span>
    <span class="token keyword">def</span> describe<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Any</span><span class="token punctuation">)</span> <span class="token operator">=</span> x <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token number">5</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Int five&quot;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;hello&quot;</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;String hello&quot;</span>
      <span class="token keyword">case</span> <span class="token boolean">true</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Boolean true&quot;</span>
      <span class="token keyword">case</span> <span class="token char">'+'</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Char +&quot;</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span>describe<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 匹配类型</span>
    <span class="token keyword">def</span> describe_Type<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> x <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Int&quot;</span>
      <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Double</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;double&quot;</span>
      <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;string&quot;</span>
      <span class="token keyword">case</span> x<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;Array[Int]&quot;</span>
      <span class="token comment">// _ 可以匹配 所有类型</span>
      <span class="token keyword">case</span> x<span class="token operator">:</span> List<span class="token punctuation">[</span>_<span class="token punctuation">]</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;List&quot;</span>
      <span class="token keyword">case</span> something <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span> <span class="token operator">+</span> something
    <span class="token punctuation">}</span>
    <span class="token comment">//泛型擦除 List 泛型擦除</span>
    println<span class="token punctuation">(</span>describe_Type<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//  数组例外，可保留泛型</span>
    println<span class="token punctuation">(</span>describe_Type<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>describe_Type<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">// 匹配数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>arr <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span>Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Array<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//对一个数据集合进行遍历</span>

      <span class="token keyword">val</span> result <span class="token operator">=</span> arr <span class="token keyword">match</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0&quot;</span> <span class="token comment">// 匹配Array(0) 这个数组</span>
        <span class="token keyword">case</span> Array<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> y <span class="token comment">// 配置有两个元素的数组，然后将元素赋值给对应的x,y</span>
        <span class="token keyword">case</span> Array<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;以0开头的数组&quot;</span> <span class="token comment">// 匹配以0开头的数组</span>
        <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span>
      <span class="token punctuation">}</span>

      println<span class="token punctuation">(</span><span class="token string">&quot;result=&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span>

    <span class="token punctuation">}</span>
    <span class="token comment">// 匹配列表</span>
    <span class="token comment">//    list是一个存放List集合的数组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>list <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span>List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> List<span class="token punctuation">(</span><span class="token number">88</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> result <span class="token operator">=</span> list <span class="token keyword">match</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0&quot;</span> <span class="token comment">// 匹配List(0)</span>
        <span class="token keyword">case</span> List<span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> y <span class="token comment">// 匹配有两个元素的List</span>
        <span class="token keyword">case</span> List<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0 ...&quot;</span>
        <span class="token keyword">case</span> List<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">if</span> x <span class="token operator">==</span> <span class="token number">88</span> <span class="token keyword">=&gt;</span> x <span class="token comment">// 匹配 88 并返回</span>
        <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span>
      <span class="token punctuation">}</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;匹配列表 &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span>


    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> list1<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span>
    list1 <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> first <span class="token operator">::</span> second <span class="token operator">::</span> rest <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span>first <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> second <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> rest<span class="token punctuation">)</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> println<span class="token punctuation">(</span><span class="token string">&quot;something else&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 匹配元组</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>tuple <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">val</span> result <span class="token operator">=</span> tuple <span class="token keyword">match</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;0 ...&quot;</span> <span class="token comment">// 是第一个元素是0的元组</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>y<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot; 0&quot;</span> <span class="token comment">// 匹配后一个元素是0的对偶元组</span>
        <span class="token keyword">case</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> a <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> b
        <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;something else&quot;</span> <span class="token comment">//默认</span>
      <span class="token punctuation">}</span>

      println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;=====元组的特殊匹配=====&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// 特殊的模式匹配1，打印元组第一个元素</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>elem <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;特殊的模式匹配1，打印元组第一个元素 &quot;</span> <span class="token operator">+</span> elem<span class="token punctuation">.</span>_1<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>word<span class="token punctuation">,</span> count<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;word couunt &quot;</span> <span class="token operator">+</span> word<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>word<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;word &quot;</span> <span class="token operator">+</span> word<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> Array<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;-------------&quot;</span><span class="token punctuation">)</span>


    <span class="token comment">// 特殊的模式匹配2，给元组元素命名</span>
    <span class="token keyword">var</span> <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&quot;zs&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;--------------&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// 特殊的模式匹配3，遍历集合中的元组，给count * 2</span>
    <span class="token keyword">var</span> list<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list<span class="token punctuation">.</span>map <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> count<span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> count <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> list11 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list11<span class="token punctuation">.</span>map <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token punctuation">(</span>groupkey<span class="token punctuation">,</span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token punctuation">(</span>word<span class="token punctuation">,</span> count <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> list22 <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;scala&quot;</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span>list22<span class="token punctuation">.</span>map <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token punctuation">(</span>groupKey<span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token keyword">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span>groupKey<span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token operator">*</span>count<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>


    <span class="token comment">// 匹配对象和样例类</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br></div></div><div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 模式匹配 匹配对象</span>
<span class="token keyword">class</span> User<span class="token punctuation">(</span><span class="token keyword">val</span> name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token keyword">val</span> age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span>
<span class="token comment">// 伴生对象 使用 apply 和 unapply 方法</span>
<span class="token keyword">object</span> User<span class="token punctuation">{</span>
  <span class="token keyword">def</span> apply<span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span>User <span class="token operator">=</span> <span class="token keyword">new</span> User<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
  <span class="token comment">// 对象提取器</span>
  <span class="token keyword">def</span> unapply<span class="token punctuation">(</span>user<span class="token operator">:</span>User<span class="token punctuation">)</span><span class="token operator">:</span>Option<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token builtin">String</span><span class="token punctuation">,</span><span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      None
    <span class="token keyword">else</span>
      Some<span class="token punctuation">(</span>user<span class="token punctuation">.</span>name<span class="token punctuation">,</span>user<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">object</span> MatchCaseDemo2 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> user<span class="token operator">:</span>User <span class="token operator">=</span> User<span class="token punctuation">(</span><span class="token string">&quot;Justin&quot;</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token comment">// 实际调用的是 伴生对象的apply 方法</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> user <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> User<span class="token punctuation">(</span><span class="token string">&quot;Justin&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;yes&quot;</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;no&quot;</span>
    <span class="token punctuation">}</span>
  println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></li> <li><p>变量声明中的模式匹配</p></li> <li><p>for 表达式中的模式匹配</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 变量声明中的模式匹配</span>
<span class="token keyword">case</span> <span class="token keyword">class</span> Person<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> MatchCaseDemo04 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;x=</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">x</span><span class="token punctuation">}</span></span><span class="token string">,y=</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">y</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> Array<span class="token punctuation">(</span>first<span class="token punctuation">,</span> second<span class="token punctuation">,</span> _<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">=</span> Array<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;first = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">first</span><span class="token punctuation">}</span></span><span class="token string"> second = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">second</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> Person<span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
    println<span class="token punctuation">(</span><span class="token string-interpolation"><span class="token id function">s</span><span class="token string">&quot;name = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">name</span><span class="token punctuation">}</span></span><span class="token string"> age = </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">age</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

    <span class="token comment">// for 表达式中的模式匹配</span>
    <span class="token keyword">val</span> map <span class="token operator">=</span> Map<span class="token punctuation">(</span><span class="token string">&quot;A&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;C&quot;</span> <span class="token operator">-&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 直接将map中的k-v遍历出来</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot;-&gt;&quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span><span class="token string">&quot;---------&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// 遍历value = 0 的k-v，如果v不是0，过滤</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot;--&gt;&quot;</span> <span class="token operator">+</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    println<span class="token punctuation">(</span><span class="token string">&quot;----------&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token keyword">&lt;-</span> map <span class="token keyword">if</span> v <span class="token operator">&gt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token string">&quot;--&gt;&quot;</span> <span class="token operator">+</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// map 和模式匹配结合</span>
    <span class="token comment">// 将该List(1,2,3,4,5,6,“test”)中的Int类型的元素加一，并去掉字符串。</span>

    <span class="token keyword">val</span> list <span class="token operator">=</span> List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> list1<span class="token operator">:</span> List<span class="token punctuation">[</span><span class="token builtin">Any</span><span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span>map <span class="token punctuation">{</span>
      <span class="token keyword">case</span> int<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> int <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token keyword">case</span> string<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token keyword">=&gt;</span> string <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>list1<span class="token punctuation">.</span>filter<span class="token punctuation">(</span>a <span class="token keyword">=&gt;</span> a<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">//方法一</span>
    List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>filter<span class="token punctuation">(</span>_<span class="token punctuation">.</span>isInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>asInstanceOf<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>print<span class="token punctuation">)</span>

    println<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">//方法二</span>
    List<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>collect <span class="token punctuation">{</span> <span class="token keyword">case</span> x<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token keyword">=&gt;</span> x <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">.</span>foreach<span class="token punctuation">(</span>print<span class="token punctuation">)</span>

    <span class="token comment">// 偏函数  ???</span>


  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div></li></ul> <h3 id="_8-6-2-样例类"><a href="#_8-6-2-样例类" class="header-anchor">#</a> 8.6.2 样例类</h3> <ul><li><p>概念</p> <p>1.样例类仍然是类，和普通类相比，只是其自动生成了伴生对象，并且伴生对象中自动提供了一些常用的方法，如apply、unapply、toString、equals、hashCode和copy。
2.样例类是为模式匹配而优化的类，因为其默认提供了unapply方法，因此，样例类可以直接使用模式匹配，而无需自己实现unapply方法。
3.构造器中的每一个参数都成为val，除非它被显式地声明为var（不建议这样做）</p></li> <li><p>实例代码</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 使用 样例类 匹配对象</span>
<span class="token keyword">case</span> <span class="token keyword">class</span> User02<span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">String</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span>

<span class="token keyword">object</span> MathCaseDemo3 <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> user <span class="token operator">=</span> User02<span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> result <span class="token operator">=</span> user <span class="token keyword">match</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> User02<span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token keyword">=&gt;</span> <span class="token string">&quot;yes&quot;</span>
      <span class="token keyword">case</span> _ <span class="token keyword">=&gt;</span> <span class="token string">&quot;no&quot;</span>
    <span class="token punctuation">}</span>
    println<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ul> <h3 id="_8-6-3-偏函数"><a href="#_8-6-3-偏函数" class="header-anchor">#</a> 8.6.3 偏函数</h3> <ul><li>pass</li></ul> <h3 id="_8-6-4-隐式转换"><a href="#_8-6-4-隐式转换" class="header-anchor">#</a> 8.6.4 隐式转换</h3> <ul><li><p>概念</p> <p><strong>当编译器第一次编译失败的时候，会在当前的环境中查找能让代码编译通过的方法，用于将类型进行转换，实现二次编译</strong></p> <blockquote><p>类型转换，调用可以编译通过的方法</p></blockquote></li> <li><p>隐式函数</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 隐式类</span>
<span class="token comment">// 通过隐式转化 Int 类型增加方法</span>
<span class="token keyword">class</span> MyRichInt<span class="token punctuation">(</span><span class="token keyword">val</span> <span class="token keyword">self</span><span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> myMax<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> i <span class="token keyword">else</span> <span class="token keyword">self</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> myMin<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">self</span> <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> <span class="token keyword">self</span> <span class="token keyword">else</span> i
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">object</span> TransformDemo <span class="token punctuation">{</span>
  <span class="token comment">// 使用implicit关键字声明的函数称之为隐式函数</span>
  <span class="token keyword">implicit</span> <span class="token keyword">def</span> convert<span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> MyRichInt <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">new</span> MyRichInt<span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token number">2.</span>myMax<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 6</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div></li> <li><p>隐式参数</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 隐式参数</span>
<span class="token comment">// 1.同一个作用域中，相同类型的隐式值只能有一个</span>
<span class="token comment">//</span>
<span class="token comment">// 2.编译器按照隐式参数的类型去寻找对应类型的隐式值，与隐式值的名称无关。</span>
<span class="token comment">//</span>
<span class="token comment">// 3.隐式参数优先于默认参数</span>
<span class="token keyword">object</span> TransformDemo01 <span class="token punctuation">{</span>
  <span class="token comment">// 隐式变量 str</span>
  <span class="token keyword">implicit</span> <span class="token keyword">val</span> str<span class="token operator">:</span><span class="token builtin">String</span> <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span>
  <span class="token keyword">def</span> hello<span class="token punctuation">(</span><span class="token keyword">implicit</span> arg<span class="token operator">:</span><span class="token builtin">String</span><span class="token operator">=</span><span class="token string">&quot;good by world&quot;</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">Unit</span><span class="token operator">=</span><span class="token punctuation">{</span>
    println<span class="token punctuation">(</span>arg<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 隐式值也叫隐式变量，将某个形参表示为implicit，编译器会在方法省略隐式参数的情况下去搜索作用域内的隐式值作为缺省参数</span>
    hello
    <span class="token comment">// 使用小括号会导致隐式值无法专递，实际上就是调用了传参</span>
    hello<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>隐式类</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token comment">// 隐式类</span>
<span class="token keyword">object</span> TransformDemo02 <span class="token punctuation">{</span>

  <span class="token keyword">implicit</span> <span class="token keyword">class</span> MyRichInt<span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">def</span> myMax<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> i <span class="token keyword">else</span> arg
    <span class="token punctuation">}</span>

    <span class="token keyword">def</span> myMin<span class="token punctuation">(</span>i<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arg <span class="token operator">&lt;</span> i<span class="token punctuation">)</span> arg <span class="token keyword">else</span> i
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    println<span class="token punctuation">(</span><span class="token number">1.</span>myMax<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>隐式解析机制</p> <div class="language-scala line-numbers-mode"><pre class="language-scala"><code><span class="token keyword">package</span> <span class="token namespace">chapter99</span>
<span class="token comment">// 隐式解析机制</span>
<span class="token comment">// 1.首先会在当前代码作用域下查找隐式实体（隐式方法、隐式类、隐式对象）。（一般是这种情况）</span>
<span class="token comment">// 2.如果第一条规则查找隐式实体失败，会继续在隐式参数的类型的作用域里查找。类型的作用域是指与该类型相关联的全部伴生对象以及该类型所在包的包对象。</span>

<span class="token keyword">import</span> <span class="token namespace">chapter99<span class="token punctuation">.</span></span>TransformDemo03<span class="token punctuation">.</span>Teacher

<span class="token keyword">object</span> TransformDemo03 <span class="token keyword">extends</span> PersonTrait <span class="token punctuation">{</span>
  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">//    1.首先会在当前代码作用域下查找隐式实体</span>
    <span class="token keyword">val</span> teacher <span class="token operator">=</span> <span class="token keyword">new</span> Teacher<span class="token punctuation">(</span><span class="token punctuation">)</span>
    teacher<span class="token punctuation">.</span>eat<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 调用Person5的方法</span>
    teacher<span class="token punctuation">.</span>say<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>


  <span class="token keyword">class</span> Teacher <span class="token punctuation">{</span>
    <span class="token keyword">def</span> eat<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;eat...&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">trait</span> PersonTrait <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token keyword">object</span> PersonTrait <span class="token punctuation">{</span>
  <span class="token comment">//隐式类：类型1=&gt;类型2</span>
  <span class="token keyword">implicit</span> <span class="token keyword">class</span> Person5<span class="token punctuation">(</span>user<span class="token operator">:</span> Teacher<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">def</span> say<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      println<span class="token punctuation">(</span><span class="token string">&quot;say...&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>


<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div></li></ul> <h3 id="_8-6-5-泛型"><a href="#_8-6-5-泛型" class="header-anchor">#</a> 8.6.5 泛型</h3> <ul><li>协变和逆变</li> <li>泛型上下限</li> <li>上下文限定</li></ul> <h2 id="_8-7-总结"><a href="#_8-7-总结" class="header-anchor">#</a> 8.7 总结</h2> <p><img src="/blog/Hadoop%E7%94%9F%E6%80%81%E4%BD%93%E7%B3%BB.assets/Scala.png" alt="Scala"></p></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/handbook/bigdata/hive.html" class="prev">
          第七章 HIVE
        </a></span> <span class="next"><a href="/blog/handbook/bigdata/spark.html">
          第九章 Spark
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-7115df4a data-v-1c636796><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-1-scala基础语法" class="sidebar-link reco-side-_8-1-scala基础语法" data-v-7115df4a>8.1 Scala基础语法</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-1-1-变量和数据类型" class="sidebar-link reco-side-_8-1-1-变量和数据类型" data-v-7115df4a>8.1.1 变量和数据类型</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-1-2-运算符" class="sidebar-link reco-side-_8-1-2-运算符" data-v-7115df4a>8.1.2 运算符</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-1-3-流程控制" class="sidebar-link reco-side-_8-1-3-流程控制" data-v-7115df4a>8.1.3 流程控制</a></li><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-2-scala函数式编程" class="sidebar-link reco-side-_8-2-scala函数式编程" data-v-7115df4a>8.2 Scala函数式编程</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-2-1-函数基础" class="sidebar-link reco-side-_8-2-1-函数基础" data-v-7115df4a>8.2.1 函数基础</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-2-2-函数高级" class="sidebar-link reco-side-_8-2-2-函数高级" data-v-7115df4a>8.2.2 函数高级</a></li><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-scala面向对象" class="sidebar-link reco-side-_8-3-scala面向对象" data-v-7115df4a>8.3 Scala面向对象</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-1-类和对象" class="sidebar-link reco-side-_8-3-1-类和对象" data-v-7115df4a>8.3.1 类和对象</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-2-封装" class="sidebar-link reco-side-_8-3-2-封装" data-v-7115df4a>8.3.2 封装</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-3-继承" class="sidebar-link reco-side-_8-3-3-继承" data-v-7115df4a>8.3.3 继承</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-4-抽象类" class="sidebar-link reco-side-_8-3-4-抽象类" data-v-7115df4a>8.3.4 抽象类</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-5-单例对象-伴生对象" class="sidebar-link reco-side-_8-3-5-单例对象-伴生对象" data-v-7115df4a>8.3.5 单例对象(伴生对象)</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-6-特质" class="sidebar-link reco-side-_8-3-6-特质" data-v-7115df4a>8.3.6 特质</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-3-7-扩展" class="sidebar-link reco-side-_8-3-7-扩展" data-v-7115df4a>8.3.7  扩展</a></li><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-4-scala异常" class="sidebar-link reco-side-_8-4-scala异常" data-v-7115df4a>8.4  Scala异常</a></li><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-scala集合" class="sidebar-link reco-side-_8-5-scala集合" data-v-7115df4a>8.5 Scala集合</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-1-集合简介" class="sidebar-link reco-side-_8-5-1-集合简介" data-v-7115df4a>8.5.1 集合简介</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-2-数组" class="sidebar-link reco-side-_8-5-2-数组" data-v-7115df4a>8.5.2 数组</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-3-元组" class="sidebar-link reco-side-_8-5-3-元组" data-v-7115df4a>8.5.3 元组</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-4-set集合" class="sidebar-link reco-side-_8-5-4-set集合" data-v-7115df4a>8.5.4 Set集合</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-5-seq集合" class="sidebar-link reco-side-_8-5-5-seq集合" data-v-7115df4a>8.5.5 Seq集合</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-6-map集合" class="sidebar-link reco-side-_8-5-6-map集合" data-v-7115df4a>8.5.6 Map集合</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-7-集合常用函数" class="sidebar-link reco-side-_8-5-7-集合常用函数" data-v-7115df4a>8.5.7 集合常用函数</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-8-wordcount" class="sidebar-link reco-side-_8-5-8-wordcount" data-v-7115df4a>8.5.8 WordCount</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-9-队列" class="sidebar-link reco-side-_8-5-9-队列" data-v-7115df4a>8.5.9 队列</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-10-并行集合" class="sidebar-link reco-side-_8-5-10-并行集合" data-v-7115df4a>8.5.10 并行集合</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-5-11-集合总结" class="sidebar-link reco-side-_8-5-11-集合总结" data-v-7115df4a>8.5.11 集合总结</a></li><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-6-scala高级特性" class="sidebar-link reco-side-_8-6-scala高级特性" data-v-7115df4a>8.6  Scala高级特性</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-6-1-模式匹配" class="sidebar-link reco-side-_8-6-1-模式匹配" data-v-7115df4a>8.6.1 模式匹配</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-6-2-样例类" class="sidebar-link reco-side-_8-6-2-样例类" data-v-7115df4a>8.6.2 样例类</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-6-3-偏函数" class="sidebar-link reco-side-_8-6-3-偏函数" data-v-7115df4a>8.6.3 偏函数</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-6-4-隐式转换" class="sidebar-link reco-side-_8-6-4-隐式转换" data-v-7115df4a>8.6.4 隐式转换</a></li><li class="level-3" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-6-5-泛型" class="sidebar-link reco-side-_8-6-5-泛型" data-v-7115df4a>8.6.5 泛型</a></li><li class="level-2" data-v-7115df4a><a href="/blog/handbook/bigdata/scala.html#_8-7-总结" class="sidebar-link reco-side-_8-7-总结" data-v-7115df4a>8.7 总结</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-65133105 data-v-65133105><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-65133105><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-65133105></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-65133105></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:50px;bottom:-70px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div></div></div>
    <script src="/blog/assets/js/app.f600c34c.js" defer></script><script src="/blog/assets/js/3.1aae9359.js" defer></script><script src="/blog/assets/js/1.ae8a88ec.js" defer></script><script src="/blog/assets/js/48.95e08a63.js" defer></script>
  </body>
</html>
